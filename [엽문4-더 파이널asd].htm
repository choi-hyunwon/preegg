<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!-- saved from url=(0051)http://www.cgv.co.kr/movies/detail-view/ -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><HTML 
lang="ko" lang="ko" xml:lang="ko" 
xmlns="http://www.w3.org/1999/xhtml"><HEAD><META content="IE=10.0000" 
http-equiv="X-UA-Compatible">
         
<META http-equiv="Content-Type" content="text/html; charset=utf-8">     
<META http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">     
<META http-equiv="Expires" content="-1">     
<META http-equiv="Pragma" content="no-cache">     
<META http-equiv="Cache-Control" content="No-Cache">     
<META http-equiv="imagetoolbar" content="no">     
<META name="viewport" content="width=1024">     
<META name="keywords" content="CGV, 시지브이, 영화관, 극장, 영화, 티켓, 박스오피스, 극장, Movie, Theater, Cinema, Cgv, cgv, 예매, 상영작"> 
    
<META name="description" content="CGV는 선진화된 관람문화와 최고의 서비스로 고객에게 잊을 수 없는 감동을 선사합니다. CGV홈페이지를 통해 영화 예매뿐만 아니라 그 이상의 서비스와 감동을 전달하고, 다양한 즐거움과 특별한 경험을 제공하고자 합니다."> 
    
<META content="영화 그 이상의 감동. CGV" property="og:site_name">     
<META id="ctl00_og_title" content="엽문4-더 파이널 | 영화 그 이상의 감동. CGV" property="og:title"> 
        
<META id="ctl00_og_image" content="http://img.cgv.co.kr/Movie/Thumbnail/Poster/000083/83155/83155_185.jpg" 
property="og:image">     <LINK href="http://m.cgv.co.kr" rel="alternate">     
<LINK href="http://img.cgv.co.kr/theater_img/favicon.ico" rel="shortcut icon" 
type="image/x-icon">     <TITLE id="ctl00_headerTitle">[엽문4-더 파이널]&lt;</TITLE>   
  <LINK href="http://img.cgv.co.kr/R2014/images/favicon.ico" rel="shortcut icon" 
type="image/x-icon">     <LINK href="[엽문4-더%20파이널]_files/reset.css" rel="stylesheet" 
type="text/css" media="all">     <LINK href="[엽문4-더%20파이널]_files/layout.css" 
rel="stylesheet" type="text/css" media="all">     <LINK href="[엽문4-더%20파이널]_files/module.css" 
rel="stylesheet" type="text/css" media="all">     <LINK href="[엽문4-더%20파이널]_files/common.css" 
rel="stylesheet" type="text/css" media="all">     <LINK href="[엽문4-더%20파이널]_files/content.css" 
rel="stylesheet" type="text/css" media="all">     <LINK href="[엽문4-더%20파이널]_files/eggupdate.css" 
rel="stylesheet" type="text/css" media="all">     <LINK href="[엽문4-더%20파이널]_files/print.css" 
rel="stylesheet" type="text/css" media="print">                 <LINK href="[엽문4-더%20파이널]_files/jquery-ui-1.10.4.custom.min.css" 
rel="stylesheet" type="text/css">     
<SCRIPT src="[엽문4-더%20파이널]_files/extraTheaters.js" type="text/javascript"></SCRIPT>
     
<SCRIPT src="[엽문4-더%20파이널]_files/app.config.js" type="text/javascript"></SCRIPT>
     
<SCRIPT src="[엽문4-더%20파이널]_files/jquery-1.10.2.min.js" type="text/javascript"></SCRIPT>
     
<SCRIPT src="[엽문4-더%20파이널]_files/jquery.tmpl.min.js" type="text/javascript"></SCRIPT>
     
<SCRIPT src="[엽문4-더%20파이널]_files/jquery.validate.js" type="text/javascript"></SCRIPT>
     
<SCRIPT src="[엽문4-더%20파이널]_files/jquery.paging.min.js" type="text/javascript"></SCRIPT>
     
<SCRIPT src="[엽문4-더%20파이널]_files/jquery-ui-1.10.4.custom.min.js" type="text/javascript"></SCRIPT>
     
<SCRIPT src="[엽문4-더%20파이널]_files/jquery.utils.js" type="text/javascript"></SCRIPT>
     
<SCRIPT src="[엽문4-더%20파이널]_files/app.utils.js" type="text/javascript"></SCRIPT>
	 
<SCRIPT src="[엽문4-더%20파이널]_files/jquery.utils.pageing.js" type="text/javascript"></SCRIPT>
     
<SCRIPT src="[엽문4-더%20파이널]_files/app.init.js" type="text/javascript"></SCRIPT>
     <!--[if lte IE 9]><script type="text/javascript" src="http://img.cgv.co.kr/R2014/js/jquery.plugin/jquery.placeholder.js"></script><![endif]--> 
    
<SCRIPT src="[엽문4-더%20파이널]_files/jquery.dotdotdot.min.js" type="text/javascript"></SCRIPT>
     
<SCRIPT src="[엽문4-더%20파이널]_files/silverlight_link.js" type="text/javascript"></SCRIPT>
	 
<SCRIPT src="[엽문4-더%20파이널]_files/slick.js" type="text/javascript" charset="utf-8"></SCRIPT>
         <LINK href="[엽문4-더%20파이널]_files/phototicket.css" rel="stylesheet" type="text/css" 
media="all">     <LINK href="[엽문4-더%20파이널]_files/slick.css" rel="stylesheet" 
type="text/css" media="all">	 <LINK href="[엽문4-더%20파이널]_files/slick-theme-custom.css" 
rel="stylesheet" type="text/css" media="all">     
<SCRIPT src="[엽문4-더%20파이널]_files/login.timer.js" type="text/javascript"></SCRIPT>
     
<SCRIPT src="[엽문4-더%20파이널]_files/icheck.min.js" type="text/javascript" charset="utf-8"></SCRIPT>
     <LINK href="[엽문4-더%20파이널]_files/iCheck.css" rel="stylesheet" type="text/css"> 
    <!-- 각페이지 Header Start-->     <!--[if lte IE 8]><script language="javascript" type="text/javascript" src="http://img.cgv.co.kr/R2014/js/excanvas.min.js"></script><![endif]--> 
<LINK href="[엽문4-더%20파이널]_files/jquery.jqplot.min.css" rel="stylesheet" type="text/css"> 
<SCRIPT src="[엽문4-더%20파이널]_files/jquery.jqplot.min.js" type="text/javascript"></SCRIPT>
 
<SCRIPT src="[엽문4-더%20파이널]_files/jqplot.barRenderer.min.js" type="text/javascript"></SCRIPT>
 
<SCRIPT src="[엽문4-더%20파이널]_files/jqplot.pieRenderer.min.js" type="text/javascript"></SCRIPT>
 
<SCRIPT src="[엽문4-더%20파이널]_files/jqplot.donutRenderer.min.js" type="text/javascript"></SCRIPT>
 
<SCRIPT src="[엽문4-더%20파이널]_files/jqplot.categoryAxisRenderer.min.js" type="text/javascript"></SCRIPT>
 
<SCRIPT src="[엽문4-더%20파이널]_files/jqplot.pointLabels.min.js" type="text/javascript"></SCRIPT>
 
<SCRIPT src="[엽문4-더%20파이널]_files/Chart.custom.js" type="text/javascript"></SCRIPT>
<!-- 평점 개편 스파이더 차트 js 로딩 추가. mwpark_RR2015 -->         <!--/각페이지 Header End-->   
  
<SCRIPT type="text/javascript">
        //<![CDATA[

        _TRK_CP = "/홈";

        app.config('staticDomain', 'http://img.cgv.co.kr/R2014/')
            .config('imageDomain', 'http://img.cgv.co.kr')
            .config('isLogin', 'False');

        // AD FLOAT
        // 암호화 할 문자열과 키값(상수값)을 매개변수로 받는다.
        function EncryptAD(str, key) {
            output = new String;
            Temp = new Array();
            TextSize = str.length;
            for (i = 0; i < TextSize; i++) {
                // key 값을 원하는 대로 연산을 한다
                output += String.fromCharCode(str.charCodeAt(i) + parseInt(key) + 123 + i);
            }
            return output;
        }
        // 복호화
        // 암호화 된 문자열과 키값(상수값)을 매개변수로 받는다.
        function DecryptAD(str, key) {
            output = new String;
            Temp = new Array();
            TextSize = str.length;
            for (i = 0; i < TextSize; i++) {
                // 암호화시 사용한 연산과 같아야 한다.
                output += String.fromCharCode(str.charCodeAt(i) - (parseInt(key) + 123 + i));
            }

            return output;
        }

        function getCookieVal(offset) {
            var endstr = document.cookie.indexOf(";", offset);
            if (endstr == -1) endstr = document.cookie.length;
            return unescape(document.cookie.substring(offset, endstr));
        }
        function GetCookieAd(name) {
            var arg = name + "=";
            var alen = arg.length;
            var clen = document.cookie.length;
            var i = 0;
            while (i < clen) { //while open
                var j = i + alen;
                if (document.cookie.substring(i, j) == arg)
                    return getCookieVal(j);
                i = document.cookie.indexOf(" ", i) + 1;
                if (i == 0) break;
            } //while close
            return null;
        }
        function setCookieAD(name, value, expiredays) {
            var todayDate = new Date();
            todayDate.setTime(todayDate.getTime() + (expiredays * 24 * 60 * 60 * 1000));
            document.cookie = name + "=" + escape(value) + "; expires=" + todayDate.toGMTString() + "; path=/; domain=cgv.co.kr";
        }
        function CloseAD() {
            var AdUrl = window.location.href;
            var ArrAdUrl = AdUrl.split("/");

            var CurCookieName = 'CgvPopAd-' + ArrAdUrl[3];
            var CurCookieUrl = GetCookieAd(CurCookieName);
            var CookieUrl = ArrAdUrl[3];

            CookieUrl = EncryptAD(CookieUrl, "15442280");
            setCookieAD(CurCookieName, CookieUrl, '1');
            $(document).find('#ad_float1').hide();
        }
        function OpenAD() {
            var AdUrl = window.location.href;
            var ArrAdUrl = AdUrl.split("/");
            var CookieUrl = ArrAdUrl[3];
            var CurCookieName = 'CgvPopAd-' + ArrAdUrl[3];
            var CurCookieUrl = GetCookieAd(CurCookieName);

            if (CurCookieUrl == null) {
                CurCookieUrl = "";
            }
            else {
                CurCookieUrl = DecryptAD(CurCookieUrl, "15442280");
            }

            if (CurCookieUrl.indexOf(CookieUrl) != -1) {
                $(document).find('#ad_float1').hide();
            }

            //section.cgv.co.kr 매거진 체크
            var magazineckurl = GetCookieAd("CgvPopAd-magazine");
            if (magazineckurl != null) {
                var magazineck = DecryptAD(magazineckurl, "15442280");
                if (magazineck != null && magazineck == "magazine") {
                    //값이있는경우 표시하지않음
                    $(document).find('#ad_float1').hide();
                }
            }
        }

        //]]>
    </SCRIPT>
     
<SCRIPT src="[엽문4-더%20파이널]_files/findCookieSecured.js" type="text/javascript"></SCRIPT>
 
<META name="GENERATOR" content="MSHTML 11.00.10570.1001"></HEAD> 
<BODY>
<FORM name="ssologinfrm" action="https://www.cgv.co.kr/user/login/login-sso.aspx" 
method="post"><INPUT name="cjssoq" id="cjssoq" type="hidden">         
<INPUT name="returnURL" type="hidden" value="/movies/detail-view/default.aspx?midx=83155"> 
    </FORM>
<SCRIPT type="text/javascript">
        function cjsso() {
            if ((typeof _cjssoEncData) != "undefined" && _cjssoEncData != "") {
                document.getElementById("cjssoq").value = _cjssoEncData;
                document.ssologinfrm.submit();
            }
        }

        cjsso();
    </SCRIPT>
 
<DIV class="skipnaiv"><A id="skipHeader" href="http://www.cgv.co.kr/movies/detail-view/?midx=83155#contents">메인 
컨텐츠 바로가기</A> </DIV>
<DIV id="cgvwrap">
<DIV class="cgv-ad-wrap" id="cgv_main_ad">
<DIV class="sect-head-ad" id="TopBarWrapper">
<DIV class="top_extend_ad_wrap">
<DIV class="adreduce" id="adReduce"><IFRAME name="TopBanner" width="100%" 
height="80" title="" id="TopBanner" src="[엽문4-더%20파이널]_files/sub@TopBar_EX.htm" 
frameborder="0" marginwidth="0" marginheight="0" scrolling="no" leftmargin="0" 
topmargin="0"></IFRAME></DIV>
<DIV class="adextend" id="adExtend"></DIV></DIV><!-- //.top_extend_ad_wrap -->   
      </DIV></DIV><!-- Header -->	 
<DIV id="header">
<DIV class="head"><!-- 서비스 메뉴 -->             <!-- 앱다운로드 레이어 팝업 --> 
<SCRIPT type="text/javascript">
    $(function () {
        $('.btn_send').on('click', function () {

            var smsyn = $('input:radio[name="myapp"]:checked').val();
            var phoneNum_1 = $('#phoneNum1').val();
            var phoneNum_2 = $('#phoneNum2').val();
            var phoneNum_3 = $('#phoneNum3').val();


            var $btn = $('.util .app');
            var $btnli = $btn.parent();
            var $layer = $btnli.find('.app-downinfo');
            var $closebtn = $layer.find('.btn_close');

            if ($("input:radio[name='myapp']:checked").val() == undefined) {

                alert('앱을 선택해주세요.');
                return;
            }

            if ($('#phoneNum1').val() == '') {

                alert('첫번째 휴대폰번호를 입력해주세요.');
                return $('#phoneNum1').focus();
            }

            if ($('#phoneNum2').val() == '') {
                alert('두번째 휴대폰번호를 입력해주세요.');
                return $('#phoneNum2').focus();
            }

            if ($('#phoneNum3').val() == '') {
                alert('세번째 휴대폰번호를 입력해주세요.');
                return $('#phoneNum3').focus();
            }

            $.ajax({
                type: "POST",
                url: '/common/ajax/user.aspx/GetSMSMaster',
                data: "{'sms_yn':'" + smsyn + "' , 'phoneNum1':'" + app.crypto.AESEncryptToBase64(phoneNum_1) + "',  'phoneNum2':'" + app.crypto.AESEncryptToBase64(phoneNum_2) + "', 'phoneNum3':'" + app.crypto.AESEncryptToBase64(phoneNum_3) + "'  }",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                success: function (result) {
                    switch (result.d.toString()) {
                        case "0":
                            // 등록되지 않음
                            alert('전송에 실패하였습니다. 잠시후 다시 시도해주시길 바랍니다.');
                            break;
                        case "1":

                            //alert('성공');
                            alert('고객님의 핸드폰 번호 ' + phoneNum_1 + '-' + phoneNum_2 + '-' + phoneNum_3 + '로 전송완료 하였습니다.');
                            $('#phoneNum1').val('')
                            $('#phoneNum2').val('')
                            $('#phoneNum3').val('')
                            $layer.removeClass('on');
                            $(this).blur();

                            // 등록완료
                            break;
                        case "2":
                            // 등록되지 않음
                            alert('1일 3회까지만 발송 가능합니다.');
                            break;
                        default:
                            //   alert('Error result Value : ' + result);
                            break;
                    }
                }
            });
        });  // SMS
    });
    

    function numberOnly() {
        if (event.keyCode != 8 && event.keyCode != 9) {
            if ((event.keyCode < 48) || (event.keyCode > 57)
				&& (event.keyCode < 96 || event.keyCode > 105)) {
                event.returnValue = false;
            }
        }
    }

    $("#phoneNum1").keyup(function (event) {
        if (!(event.keyCode >= 37 && event.keyCode <= 40)) {
            var inputVal = $(this).val();
            $(this).val(inputVal.replace(/[^0-9]/gi, ''));
        }
    });

    $("#phoneNum2").keyup(function (event) {
        if (!(event.keyCode >= 37 && event.keyCode <= 40)) {
            var inputVal = $(this).val();
            $(this).val(inputVal.replace(/[^0-9]/gi, ''));
        }
    });

    $("#phoneNum3").keyup(function (event) {
        if (!(event.keyCode >= 37 && event.keyCode <= 40)) {
            var inputVal = $(this).val();
            $(this).val(inputVal.replace(/[^0-9]/gi, ''));
        }
    });

    function appDownInfoPop() {

        var $btn = $('.util .app');
        var $btnli = $btn.parent();
        var $layer = $btnli.find('.app-downinfo');
        var $closebtn = $layer.find('.btn_close');

        var isCheck = function () {
            if (!$layer.hasClass('hover') && !$btnli.find('*').is(':focus')) {
                $layer.removeClass('on');
            }
        }

        $btn.on('focusin', inHandler);
        $btnli.on('mouseenter focusin', mouseenterHandler).on('mouseleave focusout', mouseleaveHandler);
        $layer.on('mouseenter', function () {
            $layer.addClass('hover');
        }).on('mouseleave', function () {
            $layer.removeClass('hover');
        })

        function inHandler(e) {
            $layer.addClass('on');

            return false;
        }
        function mouseenterHandler(e) {
            $layer.addClass('on');

            /******************************************
            GA Tag 상단 appdownload 마우스 오버시 전송
            *******************************************/
            ga('send', { hitType: 'pageview', location: 'http://www.cgv.co.kr/appdownload', title: '앱다운로드 레이어팝업' });
            ga('cgvTracker.send', { hitType: 'pageview', location: 'http://www.cgv.co.kr/appdownload', title: '앱다운로드 레이어팝업' });
            ga('rollup.send', { hitType: 'pageview', location: 'http://www.cgv.co.kr/appdownload', title: '앱다운로드 레이어팝업' });

            return false;
        }
        function mouseleaveHandler(e) {
            setTimeout(isCheck, 100);
            return false;
        }

        $closebtn.on('click', function () {
            $layer.removeClass('on');
            $(this).blur();
            return false;
        })
    }
</SCRIPT>
             
<H1><A href="http://www.cgv.co.kr/"><IMG alt="CGV" src="[엽문4-더%20파이널]_files/h1_cgv.png"></A></H1>
<DIV class="sect-service">
<H2>서비스 메뉴</H2>
<UL class="util">
  <LI><!-- 2019.09 수정 -->                         <A title="CGV앱 4.0 설치 새창" 
  class="app" style="cursor: pointer;" href="http://www.cgv.co.kr/movies/detail-view/?midx=83155#"><SPAN>CGV앱 
  4.0 설치</SPAN></A><!-- 앱 다운로드 레이어 팝업 2019.09 SMS 전송,하단 영역 제거 -->						 
  <DIV class="app-downinfo v2">
  <DIV class="inner">
  <DIV class="tit-box"><STRONG><EM>CGV</EM>앱에서<BR>더 편리하게 이용하세요.</STRONG>
  								 </DIV>
  <DIV class="choice-way">
  <DIV class="qr">
  <DIV class="qr-codeimg"><IMG alt="QR CODE" src="[엽문4-더%20파이널]_files/img_qrcode.gif">
  										 </DIV>
  <DIV class="qr-desc">
  <P>QR코드를 스캔하고<BR>앱 설치 페이지로 바로 이동하세요 </P></DIV></DIV></DIV><A class="btn_close" 
  href="http://www.cgv.co.kr/movies/detail-view/?midx=83155#">팝업 닫기</A>
  							 </DIV></DIV><!-- 2019.09 수정 -->                     </LI>
  <LI><A title="Facebook 좋아요! 새창" class="like" href="https://www.facebook.com/CJCGV" 
  target="_blank"><SPAN>Facebook 좋아요!</SPAN></A></LI>
  <LI><A title="Instagram Follow" class="insta" href="https://www.instagram.com/cgv_korea/" 
  target="_blank"><SPAN>Instagram Follow</SPAN></A></LI>
  <LI><A class="frugal" href="http://www.cgv.co.kr/discount/"><SPAN>알뜰한 
  영화관람법!</SPAN></A></LI><!-- 할인카드 -->				 </UL>
<UL class="gnb">
  <LI><A class="login" href="http://www.cgv.co.kr/user/login/?returnURL=http%3a%2f%2fwww.cgv.co.kr%2fmovies%2fdetail-view%2fdefault.aspx%3fmidx%3d83155"><SPAN>로그인</SPAN></A></LI>
  <LI><A class="join" 
  href="http://www.cgv.co.kr/user/join/"><SPAN>회원가입</SPAN></A></LI>
  <LI><A class="mycgv required-login" href="http://www.cgv.co.kr/user/mycgv/" 
  data-url="/user/mycgv/"><SPAN>MY CGV</SPAN></A></LI>
  <LI><A class="vip" href="http://www.cgv.co.kr/user/vip-lounge/"><SPAN>VIP 
  LOUNGE</SPAN></A></LI>
  <LI><A title="새창" class="club specialclub" href="http://www.cgv.co.kr/user/memberShip/ClubService.aspx"><SPAN>CLUB 
  서비스</SPAN></A></LI><!-- 2014.12.8 리뉴얼-->					 
  <LI><A class="customer" 
  href="http://www.cgv.co.kr/support/default.aspx"><SPAN>고객센터</SPAN></A></LI><!-- 2014.12.8 리뉴얼-->
  					 
  <LI><A class="showtimes" href="http://www.cgv.co.kr/ticket/eng/newdefault.aspx"><SPAN>ENGLISH 
  TICKETING</SPAN></A></LI></UL></DIV><!-- 서비스 메뉴 -->                         
<DIV class="im-wrap"><!-- Important wrap -->				 
<H2><IMG alt="CULTUREPLEX" src="[엽문4-더%20파이널]_files/h2_cultureplex.png"></H2><!-- 서브 메뉴 -->
				 
<SCRIPT type="text/javascript">
    //상단 키워드 광고 (S)
    function AdSearchExt(txt, SearchText) {
        $('#header_keyword').attr('placeholder', txt);
        $('#header_ad_keyword').val(SearchText);
    }

    function hdIcoSet(left, sh) { }
    //상단 키워드 광고 (E)


    //특별관 클럽 팝업
    function openSpecialClub() {
        
        var win = window.open('http://www.cgv.co.kr/event/develop/1503_CLUB_Info.aspx', 'winSpecialClub', 'left=0,top=0,width=580,height=700,toolbar=no,scrollbars=yes');
        win.focus();
    }

    //동성로타운
//    function openDownTown() {
//        var win = window.open('http://section.cgv.co.kr/event/dongsungroTown/serviceInfo.aspx', 'winDownTown', 'left=0,top=0,width=670,height=800,toolbar=no,scrollbars=yes');
//        win.focus();
//    }

    //노원타운
    function openNowonTown() {
        var win = window.open('http://section.cgv.co.kr/event/NowonTown/serviceInfo.aspx', 'winNowonTown', 'left=0,top=0,width=700,height=800,toolbar=no,scrollbars=yes');
        win.focus();
    }


    //상단광고닫기
    function hideCgvTopAd() {
        $(".cgv-ad-wrap").hide();
        $('#wrap_main_notice').parent('div').css('top', 280);
    }

    //비즈스프링 클릭로그
    function setClickLog(title) {
        // eval("try{trk_clickTrace('EVT', '" + title + "')}catch(_e){}");
    }
   
    //]]>
</SCRIPT>
 <!-- 통합검색 --> 
<SCRIPT type="text/javascript">
    (function ($) {
        $(function () {

            //검색 입력창 클릭 시 광고값 reset
            $('#header_keyword').on('click', function () {
                $(this).attr('placeholder', '');
                $('#header_ad_keyword').val('');
            });

            //통합검색 상단 검색 버튼
            $('#btn_header_search').on('click', function () {
                if ($('#header_ad_keyword').val() != "")
                    goSearch($('#header_ad_keyword'));      //광고
                else
                    goSearch($('#header_keyword'));

                return false;
            });

            //통합검색 검색어 입력창
            $('#header_keyword').keyup(function (e) {
                if (e.keyCode == 13) goSearch($('#header_keyword'));
            });

            //통합검색
            function goSearch($objKeyword) {

                if ($objKeyword.val() == "") {
                    alert("검색어를 입력해 주세요");
                    $objKeyword.focus();
                    return false;
                }

                location = "/search/?query=" + escape($objKeyword.val());
            }
        });
    })(jQuery);
</SCRIPT>
				 
<DIV class="lnb">
<H2>CGV 주메뉴</H2>
<UL id="gnb_list">
  <LI class="movie"><A href="http://www.cgv.co.kr/movies/">영화</A>
  <DIV class="sub-wrap"><I></I>
  <DIV class="smenu">
  <UL>
    <LI><A href="http://www.cgv.co.kr/movies/">무비차트</A></LI>
    <LI><A href="http://www.cgv.co.kr/movies/hd-trailer.aspx">HD 트레일러</A></LI>
    <LI><A href="http://www.cgv.co.kr/movies/finder.aspx">무비파인더</A></LI><!--
                                        2019-12-03 평점 서비스 삭제 by 안지은
										<li><a href="/movies/point/">평점</a></li>
                                        -->
    										 
    <LI class="last"><A 
  href="http://www.cgv.co.kr/arthouse/">CGV아트하우스</A></LI></UL></DIV></DIV></LI>
  <LI class="booking"><A href="http://www.cgv.co.kr/ticket/">예매</A>
  <DIV class="sub-wrap"><I></I>
  <DIV class="smenu">
  <UL>
    <LI><A href="http://www.cgv.co.kr/ticket/">빠른예매</A></LI>
    <LI><A 
  href="http://www.cgv.co.kr/reserve/show-times/">상영시간표</A></LI></UL></DIV></DIV></LI>
  <LI class="theaters"><A href="http://www.cgv.co.kr/theaters/">극장</A>
  <DIV class="sub-wrap"><I></I>
  <DIV class="smenu">
  <UL>
    <LI><A href="http://www.cgv.co.kr/theaters/">CGV 극장</A></LI>
    <LI><A href="http://www.cgv.co.kr/theaters/special/">특별관</A></LI>
    <LI class="last"><A class="specialclub" href="http://www.cgv.co.kr/user/memberShip/ClubService.aspx">CLUB 
    서비스</A></LI></UL></DIV></DIV></LI>
  <LI class="culture"><A 
  href="http://www.cgv.co.kr/culture-event/event/">이벤트&amp;컬쳐</A>
  <DIV class="sub-wrap"><I></I>
  <DIV class="smenu">
  <UL>
    <LI><A href="http://www.cgv.co.kr/culture-event/event/">이벤트</A></LI>
    <LI><A 
href="http://www.cgv.co.kr/culture-event/popcorn-store/">기프트샵</A></LI>
    <LI><A 
href="http://www.cgv.co.kr/magazine/">매거진</A></LI></UL></DIV></DIV></LI></UL></DIV><!-- /Local Navigation Bar --> 
                <!-- Integrated search(통합검색) -->				 
<DIV class="sect-srh">
<H2>통합검색서비스</H2>
<FIELDSET><LEGEND>통합검색</LEGEND>
						 <INPUT name="header_keyword" title="통합검색" id="header_keyword" type="text" maxlength="20" minlength="2"> 
                        
<INPUT name="header_ad_keyword" id="header_ad_keyword" type="hidden">
						 <BUTTON class="btn-go-search" id="btn_header_search" 
type="button">검색</BUTTON>                         <IFRAME width="0" height="0" 
title="" src="[엽문4-더%20파이널]_files/main@Search_txt.htm" frameborder="0" 
marginwidth="0" marginheight="0" scrolling="no"></IFRAME>					 </FIELDSET></DIV><!-- /Integrated search(통합검색) --> 
                <!-- Quick Phototicket -->				 
<DIV class="sect-phototicket">
<H2>CGV 포토티켓</H2><A href="http://phototicket.cgv.co.kr/" target="_blank">CGV 
포토티켓</A></DIV><!-- /Quick Phototicket -->                 <!-- Advertisement --> 
               				 
<DIV class="ad-partner"><A href="http://section.cgv.co.kr/discount/Special/discount/EventDetail.aspx?Idx=11972&amp;pb=Y"><IMG 
alt="현대오일뱅크" src="[엽문4-더%20파이널]_files/15728438201650.png"></A></DIV><!-- /Advertisement --> 
                <!-- 서브 메뉴 -->							 </DIV></DIV><!-- txt banner -->            
     <!-- /text banner -->	 </DIV><!-- /Header -->	 <!-- Contaniner -->	 
<DIV id="contaniner"><!-- 벽돌 배경이미지 사용 시 class="bg-bricks" 적용 / 배경이미지가 없을 경우 class 삭제  --> 
        <!-- LineMap -->         
<DIV class="linemap-wrap" id="ctl00_navigation_line">
<DIV class="sect-linemap">
<DIV class="sect-bcrumb">
<UL>
  <LI><A href="http://www.cgv.co.kr/"><IMG alt="home" src="[엽문4-더%20파이널]_files/btn_home.png"></A></LI></UL></DIV>
<DIV class="sect-special">
<UL>
  <LI><A href="http://www.cgv.co.kr/user/vip-lounge/">VIP LOUNGE</A></LI>
  <LI><A title="새창" class="specialclub" href="http://www.cgv.co.kr/user/memberShip/ClubService.aspx">Club서비스</A></LI>
  <LI><A title="새창" class="photi" href="http://phototicket.cgv.co.kr/" target="_blank">포토티켓</A></LI></UL></DIV></DIV></DIV><!-- //LineMap -->
		 <!-- Contents Area -->		 
<DIV id="contents"><!-- Contents Start -->			 <!-- 실컨텐츠 시작 --> 
<DIV class="wrap-movie-detail" id="select_main">
<DIV class="tit-heading-wrap">
<H3>영화상세</H3></DIV>
<DIV class="sect-base-movie">
<H3><STRONG>엽문4-더 파이널</STRONG>기본정보</H3>
<DIV class="box-image"><A title="포스터 크게 보기 새창" href="http://img.cgv.co.kr/Movie/Thumbnail/Poster/000083/83155/83155_1000.jpg" 
target="_blank"><SPAN class="thumb-image"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널 포스터 새창" 
src="[엽문4-더%20파이널]_files/83155_320.jpg">                 <SPAN class="ico-posterdetail">포스터 
크게 보기</SPAN><SPAN class="ico-grade grade-12">12세 이상</SPAN></SPAN></A></DIV>
<DIV class="box-contents">
<DIV class="title"><STRONG>엽문4-더 파이널</STRONG>             <EM class="round lightblue"><SPAN>현재상영중</SPAN></EM> 
                                    
<P>Ip Man4- The Finale</P></DIV>
<DIV class="score"><STRONG class="percent">예매율&nbsp;<SPAN>7.9%</SPAN></STRONG>   
                    
<DIV class="egg-gage small"><SPAN class="egg great"></SPAN>				 <SPAN class="percent"> 
94% </SPAN>			 </DIV><!--
            <div class="point">
                <em>94.0</em>
            </div>
             --> 
            <STRONG class="count">                (<SPAN class="view">실관람평 
:&nbsp;<EM>3,228명</EM></SPAN>) </STRONG>             </DIV><!-- 떨어지는 얘 이전 요소에 class=on을 넣는다 --> 
        
<DIV class="spec">
<DL>
  <DT>감독 :&nbsp;</DT>
  <DD><A href="http://www.cgv.co.kr/movies/persons/?pidx=9690">엽위신</A>           
                                                   </DD>
  <DD></DD>
  <DT>&nbsp;/ 배우 :&nbsp;</DT>
  <DD class="on"><A 
  href="http://www.cgv.co.kr/movies/persons/?pidx=9749">견자단</A>                  
                                                    ,&nbsp;                      
     <A href="http://www.cgv.co.kr/movies/persons/?pidx=37910">스콧 앳킨스</A>        
                                                              ,&nbsp;            
               <A href="http://www.cgv.co.kr/movies/persons/?pidx=37276">진국곤</A> 
                                                             </DD>
  <DT>장르 :&nbsp;액션,&nbsp;드라마</DT>
  <DD></DD>
  <DT>&nbsp;/ 기본 :&nbsp;</DT>
  <DD class="on">12세 이상,&nbsp;105분,&nbsp;홍콩</DD>
  <DT>개봉 :&nbsp;</DT>
  <DD class="on">2020.04.01</DD></DL></DIV><SPAN class="screentype"></SPAN><SPAN 
class="like"><BUTTON class="btn-like" value="83155">영화 찜하기</BUTTON>             
<SPAN class="count"><STRONG><I>767</I><SPAN>명이 선택</SPAN></STRONG>                
 <I class="corner-RT"></I><I class="corner-LT"></I><I class="corner-LB"></I><I 
class="corner-RB"></I><I class="corner-arrow"></I></SPAN>                     <A 
class="link-reservation" href="http://www.cgv.co.kr/ticket/?MOVIE_CD=20022859&amp;MOVIE_CD_GROUP=20022859">예매</A> 
                </SPAN>     </DIV></DIV><!-- .sect-base --> 
<SCRIPT type="text/javascript">
    _TRK_PNC = "83155";
    _TRK_PNC_NM = "엽문4-더 파이널";
    _TRK_PNG = "영화";
    _TRK_PI = "PDV";
    _TRK_CP = "/영화/영화상세/{0}/엽문4-더 파이널";
</SCRIPT>
     
<DIV class="cols-content" id="menu">
<DIV class="col-detail"><!-- 메뉴가 선택되면 a 에 title="선택" 이라고 넣는다 -->             
<UL class="tab-menu">
  <LI class="on"><A title="현재 선택됨" href="http://www.cgv.co.kr/movies/detail-view/?midx=83155#menu">주요정보 
  </A></LI>
  <LI><A href="http://www.cgv.co.kr/movies/detail-view/trailer.aspx?midx=83155#menu">트레일러</A></LI>
  <LI><A href="http://www.cgv.co.kr/movies/detail-view/still-cut.aspx?midx=83155#menu">스틸컷</A></LI>
  <LI><A 
  href="http://www.cgv.co.kr/movies/detail-view/?midx=83155#commentReg">평점/리뷰</A></LI>
  <LI class="last"><A href="http://www.cgv.co.kr/movies/detail-view/show-times.aspx?midx=83155#menu">상영시간표</A></LI></UL>
<DIV class="sect-story-movie">
<P><STRONG>이제 마지막을 함께 할 시간<BR>아낌없이 불태운다!</STRONG><BR><BR>영춘권 최고수 ‘엽문’(견자단)은 아들의 
미래를 위해 미국으로 향한다.<BR>그곳에는 자신의 제자 이소룡이 점점 유명세를 이어가며 세상의 눈길을 사로잡고 있다.<BR><BR>엽문은 
그곳에서 이해할 수 없는 이유로 자신의 앞을 막아서는 중화회관의 사부들과 대립하게 된다.<BR>특히 태극권의 고수 만종화와는 대결까지 벌이게 
된다.<BR><BR>한편 이들을 못마땅히 여기는 이민국과 해병대가 자행하는 불의를 목격한 엽문은 진정한 무예의 정신을 품고 맞서게 
되는데...</P></DIV><!-- .sect-story -->             
<DIV class="sect-graph" id="ctl00_PlaceHolderContent_Section_Chart">
<UL class="graph">
  <LI><STRONG>매력포인트</STRONG>
  <DIV class="radar-graph" id="chart1"><CANVAS width="221" height="221" id="charmScore1"></CANVAS>
  						 </DIV></LI>
  <LI><STRONG>성별 예매 분포</STRONG>
  <DIV class="chart" id="jqplot_sex"></DIV></LI>
  <LI><STRONG>연령별 예매 분포</STRONG>
  <DIV class="chart" id="jqplot_age"></DIV></LI></UL></DIV><!-- .sect-graph -->    
         
<DIV class="movie-detail-ad"><IFRAME name="SponsorBar_800" width="800" height="90" 
title="" id="SponsorBar_800" src="[엽문4-더%20파이널]_files/sub@SponsorBar_800.htm" 
frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></IFRAME>        
     </DIV><!-- .sect-staff -->             
<DIV class="sect-trailer" id="ctl00_PlaceHolderContent_Section_Trailer">
<DIV class="heading">
<H4>트레일러</H4><SPAN class="count" 
id="ctl00_PlaceHolderContent_TrailerTotalCount">6건</SPAN><A class="link-more" 
href="http://www.cgv.co.kr/movies/detail-view/trailer.aspx?midx=83155">더보기</A>   
              </DIV>
<UL><!-- 사진 동영상 조회 -->                                     
  <LI>
  <DIV class="box-image"><!-- TODO : 동영상 팝업 창 작업 후 링크 걸어야 함 //-->                
               <A title="새창" class="movie_player_popup" href="http://www.cgv.co.kr/movies/detail-view/?midx=83155#" 
  data-gallery-idx="178362"><SPAN class="thumb-image"><IMG onerror="errorImage(this, {'type':'landscape'})" 
  alt="[엽문4-더 파이널]11년간의 레전드 스페셜 영상" src="[엽문4-더%20파이널]_files/83155178362_1024.jpg"> 
                                      <SPAN class="ico-play">영상보기</SPAN>         
                          </SPAN></A></DIV>
  <DIV class="box-contents"><A title="새창" class="movie_player_popup" href="http://www.cgv.co.kr/movies/detail-view/?midx=83155#" 
  data-gallery-idx="178362"><STRONG class="title"><SPAN 
  class="ico-trailer hd">HD</SPAN>                                    11년간의 레전드 
  스페셜 영상                                 </STRONG></A><SPAN 
  class="txt-info">2020.04.01</SPAN></DIV></LI>
  <LI>
  <DIV class="box-image"><!-- TODO : 동영상 팝업 창 작업 후 링크 걸어야 함 //-->                
               <A title="새창" class="movie_player_popup" href="http://www.cgv.co.kr/movies/detail-view/?midx=83155#" 
  data-gallery-idx="178163"><SPAN class="thumb-image"><IMG onerror="errorImage(this, {'type':'landscape'})" 
  alt="[엽문4-더 파이널]30초 예고편" src="[엽문4-더%20파이널]_files/83155178163_1024.jpg">       
                                <SPAN class="ico-play">영상보기</SPAN>               
                    </SPAN></A></DIV>
  <DIV class="box-contents"><A title="새창" class="movie_player_popup" href="http://www.cgv.co.kr/movies/detail-view/?midx=83155#" 
  data-gallery-idx="178163"><STRONG class="title"><SPAN 
  class="ico-trailer hd">HD</SPAN>                                    30초 예고편    
                               </STRONG></A><SPAN 
  class="txt-info">2020.03.24</SPAN></DIV></LI>
  <LI>
  <DIV class="box-image"><!-- TODO : 동영상 팝업 창 작업 후 링크 걸어야 함 //-->                
               <A title="새창" class="movie_player_popup" href="http://www.cgv.co.kr/movies/detail-view/?midx=83155#" 
  data-gallery-idx="178074"><SPAN class="thumb-image"><IMG onerror="errorImage(this, {'type':'landscape'})" 
  alt="[엽문4-더 파이널]메인 예고편" src="[엽문4-더%20파이널]_files/83155178074_1024.jpg">        
                               <SPAN class="ico-play">영상보기</SPAN>                
                   </SPAN></A></DIV>
  <DIV class="box-contents"><A title="새창" class="movie_player_popup" href="http://www.cgv.co.kr/movies/detail-view/?midx=83155#" 
  data-gallery-idx="178074"><STRONG class="title"><SPAN 
  class="ico-trailer hd">HD</SPAN>                                     메인 예고편    
                               </STRONG></A><SPAN 
  class="txt-info">2020.03.20</SPAN></DIV></LI></UL></DIV><!-- .sect-trailer -->   
          
<DIV class="sect-stillcut" id="ctl00_PlaceHolderContent_Section_Still_Cut">
<DIV class="heading">
<H4>스틸컷</H4><SPAN class="count"><STRONG 
id="stillcut_current">1</STRONG>/18건</SPAN><A class="link-more" href="http://www.cgv.co.kr/movies/detail-view/still-cut.aspx?midx=83155">더보기</A> 
                </DIV>
<DIV class="slider-wrap">
<DIV class="slider" id="still_motion">
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155178457_727.jpg"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155178456_727.jpg"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155178455_727.jpg"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155178454_727.jpg"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155178453_727.jpg"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155178452_727.JPG"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155178238_727.jpg"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155178237_727.jpg"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155178236_727.jpg"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155178235_727.jpg"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155178006_727.jpg"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155177908_727.jpg"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155177836_727.jpg"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155177835_727.jpg"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155177834_727.jpg"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155177833_727.jpg"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155177832_727.jpg"> 
                            </DIV></DIV>
<DIV class="item-wrap">
<DIV class="item"><IMG onerror="errorImage(this)" alt="엽문4-더 파이널" data-src="http://img.cgv.co.kr/Movie/Thumbnail/StillCut/000083/83155/83155177831_727.jpg"> 
                            </DIV></DIV><BUTTON class="btn-prev" 
type="button">이전 페이지 이동</BUTTON>                         <BUTTON class="btn-next" 
type="button">다음 페이지 이동</BUTTON>                     </DIV></DIV></DIV><!-- .sect-stillcut --> 
                              
<DIV class="sect-grade">
<DIV class="heading-new"><A name="commentReg" class="goto-link">
<H4>실관람객 평점</H4></A>                     
<P class="txt-write">관람일 포함 7일 이내 관람평을 남기시면 <STRONG>CJ ONE 20P</STRONG>가 적립됩니다. 
<A class="link-gradewrite" href="javascript:void(0);"><SPAN>평점작성</SPAN></A><A 
class="link-reviewwrite" 
href="http://www.cgv.co.kr/movies/point/my-list.aspx"><SPAN>내 
평점</SPAN></A></P></DIV>
<DIV class="egg-grade"><A class="info1" id="goldenEggAlert" href="javascript:void(0);">Golden 
EGG지수<BR><IMG alt="?" src="[엽문4-더%20파이널]_files/ico-question-mark.png"></A>					 
<DIV class="massagebox">
<P><SPAN class="msg-em"><STRONG 
id="cgvEggCountTxt">3,228</STRONG>명의</SPAN><EM>CGV실관람객이</EM> 평가해주셨습니다.
						 </P></DIV><!-- great , good-->					 
<DIV class="egg-gage big" id="eggIconDiv"><SPAN class="egg great"></SPAN>        
                						 <SPAN class="percent"><STRONG>94</STRONG>%</SPAN>
					 </DIV>
<DIV class="radar-graph" id="chart2"><CANVAS width="200" height="200" id="charmScore2"></CANVAS>						
					</DIV></DIV>
<UL class="sort" id="sortTab">
  <LI class="sortTab on" id="test" data-order-type="0"><A title="현재선택" href="javascript:void(0);">최신순<SPAN 
  class="arrow-down"></SPAN></A></LI>
  <LI class="sortTab" data-order-type="3"><A href="javascript:void(0);">추천순<SPAN 
  class="arrow-down"></SPAN></A></LI></UL>
<DIV class="wrap-persongrade"><!-- 평점 목록 -->                     
<UL class="point_col2" id="movie_point_list_container"></UL></DIV></DIV><!-- .sect-grade --> 
                      <!-- 리뷰 시작 -->                         <!-- 리뷰 종료 -->      
                   
<DIV class="paging">
<UL id="paging_point"></UL></DIV><!-- 연관영화 -->             
<DIV class="sect-movielist" style="display: none;">
<H3><IMG alt="RELATION MOVIE" 
src="[엽문4-더%20파이널]_files/h3_relation_movie.gif"></H3>
<UL>
  <LI>
  <DIV class="box-image"><A href="http://www.cgv.co.kr/movies/detail-view/?midx=83210"><SPAN 
  class="thumb-image"><IMG alt="슈팅걸스 포스터" src="[엽문4-더%20파이널]_files/83210_126.jpg"> 
                                      <SPAN class="ico-grade grade-12">12세 
  이상</SPAN></SPAN></A></DIV>
  <DIV class="box-contents"><A href="http://www.cgv.co.kr/movies/detail-view/?midx=83210"><STRONG>슈팅걸스</STRONG></A></DIV></LI>
  <LI>
  <DIV class="box-image"><A href="http://www.cgv.co.kr/movies/detail-view/?midx=83209"><SPAN 
  class="thumb-image"><IMG alt="체이싱 포스터" 
  src="[엽문4-더%20파이널]_files/83209_126.jpg">                                     
  <SPAN class="ico-grade grade-none">미정</SPAN></SPAN></A></DIV>
  <DIV class="box-contents"><A href="http://www.cgv.co.kr/movies/detail-view/?midx=83209"><STRONG>체이싱</STRONG></A></DIV></LI>
  <LI>
  <DIV class="box-image"><A href="http://www.cgv.co.kr/movies/detail-view/?midx=83207"><SPAN 
  class="thumb-image"><IMG alt="공수도 포스터" 
  src="[엽문4-더%20파이널]_files/83207_126.jpg">                                     
  <SPAN class="ico-grade grade-15">15세 이상</SPAN></SPAN></A></DIV>
  <DIV class="box-contents"><A href="http://www.cgv.co.kr/movies/detail-view/?midx=83207"><STRONG>공수도</STRONG></A></DIV></LI>
  <LI>
  <DIV class="box-image"><A href="http://www.cgv.co.kr/movies/detail-view/?midx=83206"><SPAN 
  class="thumb-image"><IMG alt="기도의 힘 포스터" src="[엽문4-더%20파이널]_files/83206_126.jpg"> 
                                      <SPAN class="ico-grade grade-12">12세 
  이상</SPAN></SPAN></A></DIV>
  <DIV class="box-contents"><A href="http://www.cgv.co.kr/movies/detail-view/?midx=83206"><STRONG>기도의 
  힘</STRONG></A></DIV></LI>
  <LI>
  <DIV class="box-image"><A href="http://www.cgv.co.kr/movies/detail-view/?midx=83205"><SPAN 
  class="thumb-image"><IMG alt="핀란드 메탈밴드 포스터" src="[엽문4-더%20파이널]_files/83205_126.jpg"> 
                                      <SPAN class="ico-grade grade-15">15세 
  이상</SPAN></SPAN></A></DIV>
  <DIV class="box-contents"><A href="http://www.cgv.co.kr/movies/detail-view/?midx=83205"><STRONG>핀란드 
  메탈밴드</STRONG></A></DIV></LI>
  <LI>
  <DIV class="box-image"><A href="http://www.cgv.co.kr/movies/detail-view/?midx=83204"><SPAN 
  class="thumb-image"><IMG alt="쉬 네버 다이 포스터" src="[엽문4-더%20파이널]_files/83204_126.jpg"> 
                                      <SPAN class="ico-grade grade-19">청소년 
  관람불가</SPAN></SPAN></A></DIV>
  <DIV class="box-contents"><A href="http://www.cgv.co.kr/movies/detail-view/?midx=83204"><STRONG>쉬 
  네버 다이</STRONG></A></DIV></LI></UL></DIV><!-- .sect-movielist -->             <!-- 연관영화 --> 
        </DIV><!-- .col-detail -->         <IFRAME name="ifrm_movie_time_table1" 
width="849" height="993" title="상세리스트" class="layer-wrap review_pop" id="ifrm_movie_time_table1" 
src="about:blank" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" 
style="display: none;" allowtransparency="true"></IFRAME><!--회원 평점 모아보기 iframe. mwpark_RR2015--> 
        
<FORM id="frmPointPopup" action="/movies/point/default-irm.aspx" 
method="post"><INPUT name="userid" id="frmPointUserId" type="hidden">            
 <INPUT name="nick" id="frmPointNick" type="hidden">         </FORM>
<DIV class="col-aside">
<DIV class="ad-partner01"><IFRAME name="M_Rectangle" width="160" height="300" 
title="" id="M_Rectangle" src="[엽문4-더%20파이널]_files/sub@M_Rectangle.htm" 
frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></IFRAME>     
</DIV>
<DIV class="ad-external01"><IFRAME name="C_Rectangle" width="160" height="300" 
title="" id="C_Rectangle" src="[엽문4-더%20파이널]_files/sub@C_Rectangle.htm" 
frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></IFRAME>     
</DIV>
<DIV class="sect-moviesearch">
<DIV class="searchrank">
<H3>인기 영화 검색어</H3>
<OL>
  <LI><A href="http://www.cgv.co.kr/search/?query=%ec%bd%94%eb%82%9c">1. 
  <STRONG>코난</STRONG></A>                         </LI>
  <LI><A href="http://www.cgv.co.kr/search/?query=%ed%95%b4%eb%a6%ac%ed%8f%ac%ed%84%b0">2. 
  <STRONG>해리포터</STRONG></A>                         </LI>
  <LI><A href="http://www.cgv.co.kr/search/?query=%eb%84%88%ec%9d%98+%ec%9d%b4%eb%a6%84%ec%9d%80">3. 
  <STRONG>너의 이름은</STRONG></A>                         </LI>
  <LI><A href="http://www.cgv.co.kr/search/?query=%eb%82%a0%ec%94%a8%ec%9d%98+%ec%95%84%ec%9d%b4">4. 
  <STRONG>날씨의 아이</STRONG></A>                         </LI>
  <LI><A href="http://www.cgv.co.kr/search/?query=%ec%95%84%ec%9d%b4">5. 
  <STRONG>아이</STRONG></A>                         </LI>
  <LI><A href="http://www.cgv.co.kr/search/?query=%ec%97%bd%eb%ac%b8">6. 
  <STRONG>엽문</STRONG></A>                         </LI>
  <LI><A href="http://www.cgv.co.kr/search/?query=4%ec%9b%94%ec%9d%b4%ec%95%bc%ea%b8%b0">7. 
  <STRONG>4월이야기</STRONG></A>                         </LI>
  <LI><A 
  href="http://www.cgv.co.kr/search/?query=%ea%b7%b8%eb%a0%88%ec%9d%b4">8. 
  <STRONG>그레이</STRONG></A>                         </LI>
  <LI><A href="http://www.cgv.co.kr/search/?query=%eb%b0%98%eb%8f%84">9. 
  <STRONG>반도</STRONG></A>                         </LI>
  <LI><A 
  href="http://www.cgv.co.kr/search/?query=%ec%8a%a4%ed%8c%8c%ec%9d%b4">10. 
  <STRONG>스파이</STRONG></A>                         </LI></OL></DIV></DIV></DIV><!--<div class="sect-sns">
    <ul>                	
        <li><a class="link-facebook" href="#" id="link_facebook">FaceBook</a></li>
        <li><a class="link-twitter" href="#" id="link_twitter">Twitter</a></li>
    </ul>
    <div class="share">
        <div id="fb-root"></div>
        <script>
            (function (d, s, id) {
                var js, fjs = d.getElementsByTagName(s)[0];
                if (d.getElementById(id)) return;
                js = d.createElement(s); js.id = id;
                js.src = "//connect.facebook.net/ko_KR/sdk.js#xfbml=1&appId=341385562539159&version=v2.0";
                fjs.parentNode.insertBefore(js, fjs);
            } (document, 'script', 'facebook-jssdk'));
        </script>

        <div class="fb-like" style="z-index:2" data-href="http%3a%2f%2fwww.cgv.co.kr%2fmovies%2fdetail-view%2fdefault.aspx%3fmidx%3d83155" data-layout="button_count" data-action="like" data-show-faces="false" data-share="false"></div>
    </div>-->        </DIV></DIV><SPAN class="modifyCommentDummy" 
style="display: none;"></SPAN> </DIV><!-- 실컨텐츠 끝 --> 
<SCRIPT type="text/javascript">
    _TRK_CP = _TRK_CP.replace("{0}", "주요정보");
</SCRIPT>
 
<SCRIPT id="movie_review_template" type="text/x-jquery-tmpl">
<li>
    <div class="box-image">
        <span class="thumb-image">
            <img src="${ContentsImage}" alt="{{if (ContentsImage == "") }}이미지 없음{{else}} 스틸컷{{/if}}" onerror="errorImage(this, {'type':'landscape'})" />
        </span>
    </div>
    <div class="box-contents">
        <div class="title">
            <a class="view_review_detail_popup" data="${ReviewIdx}" title="새창" href="#" target="_blank">
                <em class="text-${ReviewType}"><span>이 영화 ${ReviewTypeText}</span></em>
                <strong>${Title}
                    <span>
                        {{if (NumOfComments != 0) }}${NumOfComments}{{/if}}
                    </span>
                </strong>
            </a>
        </div>
        <p>${Content}</p>
        <ul class="writerinfo">
            {{if (IsSpoiler) }}<li>스포일러</li>{{/if}}
            <li>${UserIdNicName}</li>
            <li>
                <span class="position">
                    {{if (IsShowView && IsViewer) }}<em class="see">실관람객</em>{{/if}}
                </span>
            </li>
            <li>${RegistDate}</li>
        </ul>
        <span class="btn-admit" data="${ReviewIdx}"><button class="required-login" type="button">인정</button><span><em>${GoodPoints}</em></span></span>
    </div>
</li>
</SCRIPT>
 
<SCRIPT id="writeGrade" type="text/template">
	<div class="layer-contents on-shadow" style="width:710px;">
		<div class="popup-general">
			<div class="popwrap">
				<h1>평점작성</h1>
				<div class="pop-contents write-mygrade">

					<div class="mygrade-cont">
						<div class="movietit"><strong id="regTitle">엽문4-더 파이널</strong></div>
						<div class="likeornot">
							<div class="writerinfo">
								<div class="box-image">
									<span class="thumb-image">   
										<img id="regUserPro" src="" alt="사용자 프로필" onerror="errorImage(this, {'type':'profile'})">                                            
										
                                        <span class="profile-mask"></span>
									</span>
								</div>
							
								<span class="round red on"><span class="position"><em class="see">실관람객</em></span></span>
								<span class="writer-name" id="regUserName"></span>
							</div>

							<div class="likebox t1" id="defaultEggPoint">
								<div class="likebox-inner">
									<label for="likeornot1-1">
										<span class="egg-icon good">
											<input type="radio" name="likeornot1" id="likeornot1-1" value="2" />
										</span>
										<span class="txt">좋았어요~^^</span>
									</label>
								</div>
							</div>
							<div class="likebox t2" id="notEggPoint">
								<div class="likebox-inner">
									<label for="likeornot1-2">
										<span class="egg-icon">
											<input type="radio" name="likeornot1" id="likeornot1-2" value="1" />
										</span>
										<span class="txt">흠~좀 별로였어요;;;</span>
									</label>
								</div>
							</div>
						</div>

						<div class="textbox">
                            <textarea id="textReviewContent" name="textReviewContent" title="영화평점 입력" cols="70" rows="2" maxlength="280" placeholder="운영원칙에 어긋나는 게시물로 판단되는 글은 제재 조치를 받을 수 있습니다."></textarea>
						</div>

						<div class="footbox">
							<span class="role">
								<a id="viewpopup" title="새창" href="javascript:void(0);" target="_blank">운영원칙 <img src="http://img.cgv.co.kr/R2014/images/common/ico/ico-question-mark.png" alt="?"></a>
							</span>
							
							<div class="rbox">
								<span class="count"><strong id="text_count">0</strong>/280(byte)</span>
								<button type="button" class="round red on" id="regBtn"><span>작성완료!</span></button>
							</div>
						</div>

					</div>
					
				</div>
				<button type="button" class="btn-close" id="regLayerClose">평점수정 팝업 닫기</button>
			</div>
		</div>
	</div>
</SCRIPT>
 
<SCRIPT id="temp_view" type="text/template">
<div class="layer-contents on-shadow" style="width:633px;">
    <div class="popwrap sect-operation-rule">
        <h1>운영원칙</h1>
        <div class="pop-contents">
            <p>
                CGV는 올바른 커뮤니티를 지향하기 위하여 몇 가지 운영원칙을 마련하고 있습니다.<br/>
                운영원칙에 어긋나는 게시물로 판단되는 글은 적발 시, 경고 없이 삭제되며 아이디 중지 등의<br/>
                제재 조치를 받을 수 있습니다.<br/>
                <br/>
                CGV는 보다 건전한 인터넷 문화를 지향합니다.
            </p>
            <div class="box-info"> 
                <strong>게시물 삭제 기준</strong>
                <ul>
                    <li> - 개인정보(실명, 상호명, 사진, 전화번호, 주민등록번호 등) 유포</li>
                    <li> - 동일 내용의 게시글/덧글 반복(도배)</li>
                    <li> - 특정인 대상의 <span class="txt-red">비방/욕설</span> 등의 표현으로 불쾌감을 주는 내용</li>
                    <li> - 음란성 또는 청소년에게 부적합한 내용</li>
                    <li> - 서비스 취지(성격)에 맞지 않은 내용</li>
                    <li> - <span class="txt-red">비방/허위사실 유포</span> 등의 명예훼손 관련 게시물</li>
                    <li> - 저작권 관련 게시물 등 기타 관련 법률에 위배되는 글</li>
                </ul>
            </div>
        </div>

        <button type="button" class="btn-close">운영원칙 닫기</button>
    </div>
</div>
</SCRIPT>
 
<SCRIPT id="charmPoint" type="text/template">
<div class="layer-contents on-shadow" style="width:577px;">
    <div class="popwrap">
        <h1>매력포인트</h1>
        <div class="pop-contents charm-point">
            
			<div class="charm-cont">
				<div class="headtxt">
					<p>이영화의 매력포인트를 선택해주세요. 중복선택이 가능합니다.</p>
				</div>
				<div class="inp-choose">
					<input type="checkbox" id="Effect" />
					<label for="charm1-5">감독연출</label>
					<input type="checkbox" id="story" />
					<label for="charm1-2">스토리</label>
					<input type="checkbox" id="visual" />
					<label for="charm1-3">영상미</label>
                    <input type="checkbox" id="acting" />
					<label for="charm1-1">배우연기</label>
					<input type="checkbox" id="ost" />
					<label for="charm1-4">O.S.T</label>
				</div>
				<div class="set-btn">
					<button class="round red on w70" id="charmRegBtn"><span>확인</span></button>
				</div>
			</div>

        </div>
        <button type="button" class="btn-close" id="regCharmCloseBtn">매력포인트 닫기</button>
    </div>
</div>
</SCRIPT>
 
<SCRIPT id="movie_my_point" type="text/x-jquery-tmpl">
<li class="user_my_point_list" id="liCommentFirst${CommentIdx}">
    <div class="box-image">
        <span class="thumb-image">     
            <img src="${UserSmallImage}"  alt="사용자 프로필" onerror="errorImage(this, {'type':'profile'})"/>                                            
            <span class="profile-mask"></span>                                                        
            <div class="theater-sticker">
				{{if MediaTypeCode.indexOf("412") > -1  }} <span class="imax">IMAX</span> {{/if}}
                {{if MediaTypeCode.indexOf("1969") > -1  }} <span class="fourdx">4DX</span> {{/if}}
                {{if MediaTypeCode.indexOf("2202") > -1  }} <span class="screenx">SCREENX</span> {{/if}}
			</div>
        </span>
    </div>
    <div class="box-contents">
        <ul class="writerinfo">                                        
            
            <li class="writer-name"><a href="#select_main" class="commentMore" data-moreUserID="${UserID}" data-moreUserIdNicName="${UserIdNicName}" onclick="getPopList1('${UserID}', '${UserIdNicName}')"; >
                <span class="{{if EggPoint == 0 && Point > 0 }}  {{else  EggPoint == 1 }} egg-icon {{else  EggPoint == 2 }} egg-icon good {{else}} {{/if}}"></span>${UserIdNicName}</a>
            </li>
            <li class="writer-etc">
                {{if IsVIP == "Y" }}
                <span class="vip">Movie Mania</span>
                {{/if}}				
				<span class="day">${RegistDate}</span>
				<span class="like point_like" id="${UserID}${CommentIdx}" data-isMyGood="${IsMyGOOD}" data-CommentIdx="${CommentIdx}">
					<a href="javascript:return false;" class="btn_point_like"><span><img {{if IsMyGOOD }}src="http://img.cgv.co.kr/R2014/images/point/ico_point_like.png"{{else}}src="http://img.cgv.co.kr/R2014/images/point/ico_point_default.png"{{/if}} alt="like" class="like_red" /></span><span id='idLikeValue'>${GOODCNT}</span></a>
				</span>
			</li>

            <li class="point_edit">
                <a href="" class="btn_edit">평점 수정/삭제 하기</a>
                <div class="edit_wrap">
                    <ul>
                        <li><a href="javascript:return false;" class="ico_edit" data-CommentIdx="${CommentIdx}" data-MovieIdx="${MovieIdx}" data-MovieTitle="${MovieTitle}"><span>평점수정</span></a></li>
                        <li><a href="javascript:return false;" class="ico_delete" data="${CommentIdx}"><span>평점삭제</span></a></li>
                    </ul>
                </div>
            </li>
        </ul>
    </div>
    <div class="box-comment">
        <p id="pCommentText${CommentIdx}">${CommentText}</p>
    </div>
                            
</li>
</SCRIPT>
 
<SCRIPT id="movie_point_template" type="text/x-jquery-tmpl">

<li class={{if (SPOILERCNT >= 2 && REPORTCNT >= 2) }} "user_spolierswear"
            {{else (SPOILERCNT >= 2)}} "user_spolier"
            {{else (REPORTCNT >= 2)}} "user_swearword"
            {{else}} "" {{/if}}
    id="liCommentFirst${CommentIdx}"
    data-SPOILERCNT="${SPOILERCNT}"
    data-REPORTCNT="${REPORTCNT}"
>

    <a href="javascript:return false;" class="screen_spoiler">&nbsp;</a>
    <div class="box-image">
        <span class="thumb-image">   
                <img src="${UserSmallImage}"  alt="사용자 프로필" onerror="errorImage(this, {'type':'profile'})"/>                                            
                <span class="profile-mask">
                </span>
                <div class="theater-sticker">
				    {{if MediaTypeCode.indexOf("412") > -1  }} <span class="imax">IMAX</span> {{/if}}
                    {{if MediaTypeCode.indexOf("1969") > -1  }} <span class="fourdx">4DX</span> {{/if}}
                    {{if MediaTypeCode.indexOf("2202") > -1  }} <span class="screenx">SCREENX</span> {{/if}}
			    </div>
            </a>   
                                    
        </span>
    </div>

    <div class="box-contents">
        <ul class="writerinfo">     
        <li class="writer-name"><a href="#select_main" class="commentMore" data-moreUserID="${UserID}" data-moreUserIdNicName="${UserIdNicName}" onclick="getPopList1('${UserID}', '${UserIdNicName}')"; >
            <span class="{{if EggPoint == 0 && Point > 0 }}  {{else  EggPoint == 1 }} egg-icon {{else  EggPoint == 2 }} egg-icon good {{else}} {{/if}}"></span>${UserIdNicName}</a>
        </li>
        <li class="writer-etc">
                {{if IsVIP == "Y" }}
                <span class="vip">Movie Mania</span>
                {{/if}}
				<span class="day">${RegistDate}</span>
				<span class="like point_like" id="${UserID}${CommentIdx}" data-isMyGood="${IsMyGOOD}" data-CommentIdx="${CommentIdx}">
					<a href="javascript:return false;" class="btn_point_like"><span><img {{if IsMyGOOD }}src="http://img.cgv.co.kr/R2014/images/point/ico_point_like.png"{{else}}src="http://img.cgv.co.kr/R2014/images/point/ico_point_default.png"{{/if}} alt="like" class="like_red" /></span><span id='idLikeValue'>${GOODCNT}</span></a>
				</span>
			</li>   
           
            {{if UserID == "" }}
            <li class="point_edit">
                <a href="##" class="btn_edit">평점 수정/삭제 하기</a>
                <div class="edit_wrap">
                    <ul>
                        <li><a href="javascript:return false;" class="ico_edit"><span>평점수정</span></a></li>
                        <li><a href="javascript:return false;" class="ico_delete" data="${CommentIdx}" ><span>평점삭제</span></a></li>
                    </ul>
                </div>
            </li>
            {{else}}
            <li class="point_notify">
                <a href="" class="btn_notify">스포일러, 욕설/비방 신고</a>
                <div class="notify_wrap">
                    <ul>
                        <li><a href="javascript:return false;" class="ico_spoiler" data-CommentIdx="${CommentIdx}" data-isMySpoiler="${IsMySPOILER}" data-SPOILERCNT="${SPOILERCNT}" ><span>{{if IsMySPOILER }}스포일러 신고 취소{{else}}스포일러 신고{{/if}}</span></a></li>
                        <li><a href="javascript:return false;" class="ico_swearword" data-CommentIdx="${CommentIdx}" data-IsMyREPORT="${IsMyREPORT}" data-REPORTCNT="${REPORTCNT}" ><span>{{if IsMyREPORT }}욕설/비방 신고 취소{{else}}욕설/비방 신고{{/if}}</span></a></li>
                    </ul>
                </div>
            </li>
            {{/if}}
            
        </ul>
    </div>
    <div class="box-comment">
        <p>${CommentText}</p>
    </div>
                            
</li>
</SCRIPT>
 
<SCRIPT type="text/javascript">
//<![CDATA[
var commentOptions;
    (function ($) {
        $(function () {
            //골든 에그 지수 add_css82
            $("#goldenEggAlert").on("click", function () {
                alert("CGV의 실제 관람 고객 평가로 산정된 지수입니다.\n결과에 따라 Golden EGG 아이콘이 정해집니다.");                
            });
            var myPointPage = 0;    
            var mypointYN = false;    
            var mypointPaneltyYN = false;    
            var mypointShowViewYN = false;    

            var data = {
                    period: [
                ["5주전", 0],["4주전", 0],["3주전", 0],["2주전", 0.000000],["1주전", 0.000000]
                    ],
                    age: [
                ["10대", 1],["20대", 17],["30대", 31.3],["40대", 27.4],["50대", 23.3]
                    ],
                    sex: [
                 ["남 66.5%", 66.5],["여 33.5%", 33.5]
                    ]

                };
                            
            $('#jqplot_sex').graphChart({ 'type': 'donut', 'data': data.sex });
            $('#jqplot_age').graphChart({ 'type': 'bar', 'data': data.age });
            // 매력 포인트 차트 추가

            //첫 로딩시 호출, 첫 로딩시는 "실관람객"탭이 디폴트여서 실관람객 평이 있냐 여부를 따져야 리스트 갯수가 맞게 나온다. "setMypointAttribute()"함수로 대처시 callback이 setMyPointBuild() 함수와 겹쳐 오락가락 하게 된다%>
            setMypointAttributeFirstLoding();
            searchPointList(1, true, 1, 0);              // 첫 로딩시 평점 조회    
   


            var html1= "<div class='sorry'><p>&lsquo;이 영화의 매력포인트&rsquo; 차트는<br />익스플로러9 이상에서 지원 가능합니다.</p></div>"
            var html2= "<div class='sorry'> <p>&lsquo;이 영화의 매력포인트&rsquo; 차트는<br />익스플로러9 이상에서 지원 가능합니다.</p> </div>"
            
            $('#chart1').html(html1);
            $('#chart2').html(html2);

            var $stillCut = $('#still_motion'),
                $stillCutCurrent = $('#stillcut_current'),
                stillOptions = { 'type': 'photo', 'onBeforeHandler': onBeforeHandler };

            function onBeforeHandler(_index) {
                $stillCutCurrent.text(_index + 1);
            }
            $stillCut.visualMotion(stillOptions);

            $('.btn-admit').on('click', function (e) {
                addMovieReviewCommunityAdmit($(this));
            });

            $('.view_review_detail_popup').on('click', function () {
                getReviewDetail($(this));
                return false;
            });

            function getReviewDetail(obj) {
                var reviewIdx = obj.attr('data');
                app.movie().getReviewDetail({'reviewIdx': parseInt(reviewIdx)}, callback);

                function callback(result) {
                    var html = '';
                    if(!result || result.length < 1) {
                        return false;
                    }

                    var title = result['Title'];
                    var content = result['Content'];
             
                    html += '<div class="layer-contents">';
                    html += '        <div class="popwrap">';
                    html += '            <h5>' + title + '</h5>';
                    html += '            <div class="pop-contents">';
                    html += result['ContentsImage'] == "" ? "" : "<div><img width='100%' src='" + result['ContentsImage'] + "'></div>";
                    html +=                 content;
                    html += '            </div>';
                    html += '        </div>';
                    html += '    <button type="button" class="btn-close">' + title + '닫기</button></div>';
                    html += '</div>';


                    var $std = obj,
				        options = {
				            '$target': $std,
				            'html': html,
				            'position': 'fixed',
				            'mask': 'none'
				        };
          
                    app.instWin.add(options);
                }
            }

            function addMovieReviewCommunityAdmit(obj) {
                var reviewIdx = obj.attr('data');
                var em = obj.find('em');

                app.movie().addMovieReviewCommunityAdmit(JSON.stringify({'idx': parseInt(reviewIdx)}), callback);

                function callback(result) {
                    var resultCode = result.resultCode;

                    switch(resultCode)
                    {
                        case "-1":
                            app.goLogin();
                            break;
                        case "0":
                            alert("인정하였습니다.");
                            em.text(parseInt(em.text()) + 1);
                            break;
                        case "":
                            alert("오류가 발생 되었습니다");
                            break;
                        default:
                            alert(resultCode);
                            break;
                    }
                }
            }
                        
            /*내가 작성한 평점 보여주기*/
            function setMyPointBuild() {
                var movieIdx = "83155";
                app.movie().getCommentMy({'movieIdx': parseInt(movieIdx)}, callback);                
            
                function callback(result) 
                {
                    if(!result || result.length < 1) {
                        return false;
                    }

                    $("#movie_my_point").tmpl(result).prependTo("#movie_point_list_container");
                    $('.user_my_point_list .point').point();                    
                }
            }


            //add_css82 평점삭제
            function removePointComment(obj) {

                var commentIdx = obj.attr('data');
                var movieIdx = "83155";
                app.movie().removePointCheck(JSON.stringify({ 'commentIdx': parseInt(commentIdx), 'mIdx': parseInt(movieIdx) }), callback_pc);
                
                function callback_pc(result) {
                    var resultCode = result.resultCode;
                    switch (resultCode) {
                         case "-1":
                            app.goLogin();
                            break;
                        default:
                            var msg = "작성한 관람평을 삭제하시겠습니까?"
                            var onePointMsg = "";
                            if(parseInt(resultCode) > 0 ){
                                onePointMsg = "관람평을 삭제하실 경우\n지급된 포인트는 차감됩니다.\n삭제하시겠습니까?";
                                msg = onePointMsg;
                            }
                            if (confirm(msg))
                            {
                                app.movie().removePoint(JSON.stringify({ 'commentIdx': parseInt(commentIdx), 'mIdx': parseInt(movieIdx), 'pointCode': parseInt(resultCode) }), callback);
                            }
                            break;                        
                    }
                }

                function callback(result) {
                    var resultCode = result.resultCode;

                    switch (resultCode) {
                        case "-1":
                            app.goLogin();
                            break;
                        case "0":
                             deleteAfterList();
                            if (confirm("삭제가 완료되었습니다.\n새로 작성하시겠습니까?")){
                                $('.link-gradewrite').click();
                            }else{
                                location.reload();
                            }
                            break;
                        case "":
                            alert("삭제 중 오류가 발생 되었습니다");
                            break;
                        default:
                            alert(resultCode);
                            break;
                    }
                }
            }
            function deleteAfterList(){
                mypointYN = false;
                var order = $('.sort>li.on').data('order-type');
                searchPointList(1, true, 1, order);
                var cgvEggCountTxt = $('#cgvEggCountTxt').text();

                cgvEggCountTxt = cgvEggCountTxt.split(",").join("");

                var cnt = parseInt(cgvEggCountTxt);
                cnt = cnt -1;
                
                if(cnt < 100){
                    var eggIconDiv = $('#eggIconDiv');
                    $('#eggIconDiv').empty() ;
                    $('#eggIconDiv').html('<span class="egg good"></span><span class="percent"><strong></strong>?</span>');
                }
                cnt = cnt.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                $('#cgvEggCountTxt').html(cnt);
               
                
            }
            // 평점 리스트 조회
            function searchPointList(page, isGetTotalCount, filterType, orderType) {
                myPointPage = page;
                
                filterType= 1;
                if(!orderType) {
                    orderType = $('.sort>li.on').data('order-type');
                }                

                // 첫로딩후 페이지 이동시 IsGetTotalCount = false 처리됨
                // 첫로딩시 setPointListBuild()에서 result.TotalCount:전체평점갯수, 페이지 이동시 result.TotalCount:0
                if(!isGetTotalCount) { isGetTotalCount = false; }

                var isMyPageIndex = 6;
                var isMyPoint = false;
                if(mypointYN) {        //내가 쓴 평점이 있다면(첫페이지만 5개 가져온다, 이후는 6개씩) 
                    if (filterType == "1" && mypointShowViewYN) {      //추가 : 실관람객탭이면서 실관람객인지
                        isMyPoint = true;
                    }else if (filterType == "2" && mypointPaneltyYN) {//추가 :  패널티탭이면서 패널티회원인지
                        isMyPoint = true;
                    }else if (filterType == "0") {                          //추가 :  전체탭
                        isMyPoint = true;
                    }
                }
                                
	            $.ajax({
	                type: "POST",
	                url: '/common/ajax/point.aspx/GetMoviePointVariableList',
	                data: "{ 'movieIdx': 83155, 'pageIndex': " + page + ", 'pageSize': " + isMyPageIndex + ", 'orderType': " + orderType + ", 'filterType': 1, 'isTotalCount' : " + isGetTotalCount + ", 'isMyPoint' : '" + isMyPoint + "' }",
	                contentType: "application/json; charset=utf-8",
	                dataType: 'json',
	                success: function (result) {
						setPointListBuild($.parseJSON(result.d));
	                }
	            });                                
            }

            // 평점 리스트 ajax를 통해 호출한 데이터 노출
            function setPointListBuild(result) {                
                if(result == null || result.List == null || result.TotalCount  == null) return;

                $("#movie_point_list_container").empty();
                $("#movie_point_template").tmpl(result.List).appendTo("#movie_point_list_container");
                
                $('.box-contents .point').point();
                $('.btn-delete').on('click', function () {
                    removePointComment($(this));
                });

                // result.List:내가쓴평점 제외한 한페이지에 노출될 평점 목록
                // result.TotalCount : 10자 이상 평점 총 갯수                
                var ListCount = result.List.length;
                var TotalCount = result.TotalCount;                              

                //1페이지 이면서 내가 쓴 평점이 있다면 보여 준다 : 상단 탭 "실관람객", "패널티" "전체" 여부 체크는 "setMyPointBuild()"안에서 체크 한다
                if(mypointYN && myPointPage == 1 ) {                   
                    ListCount++;                    // 1페이지는 내가쓴평점 추가

                    if(TotalCount == 0)
                        TotalCount++;   
                          
                    setMyPointBuild();
                }

                // 첫 페이징 로딩후 result.TotalCount가 0처리되어 타지 않음
                if(ListCount <= TotalCount) {
                    setPagingNavigation(TotalCount, 10, '#paging_point', '#movie_point_list_container', searchPointList);
                }

                if(result.List.length == 0) {
                    $("#movie_point_list_container li").css("border-right", "none");
                }
            }

            /* 첫로딩시 1번만 호출, 내가 쓴평점이 있는지 전영변수 세팅 및 체크 하는 함수 */            
            function setMypointAttributeFirstLoding() {
                if ("False" == "True" || "False" == "true") {
                    mypointYN = true;
                }
                
                if ("False" == "True" || "False" == "true") {
                    mypointPaneltyYN = true;
                }

                if ("False" == "True" || "False" == "true") {
                    mypointShowViewYN = true;
                }                                
            }
                        
            /* 내가 쓴평점이 있는지 전영변수 세팅 및 체크 하는 함수 */
            function setMypointAttribute() {                
                var movieIdx = "83155";
                app.movie().getCommentMy({'movieIdx': parseInt(movieIdx)}, callback);

                function callback(result) 
                {                    
                    if(!result || result.length < 1) {
                        mypointYN = false;
                        return false;
                    }

                    //패널티 회원인지 여부
                    if (result["IsViewer"] && result["IsShowView"] && !result["IsNormal"]) {
                        mypointPaneltyYN = true;     //내평점 패널티
                    }else {
                        mypointPaneltyYN = false;     //내평점 패널티
                    }

                    //실관람객인지 여부
                    if (result["IsShowView"]) {
                        mypointShowViewYN = true;     //실관람객
                    }else {
                        mypointShowViewYN = false;     //비실관람객
                    }

                    mypointYN = true;
                }
            }
            
            //2014.12 스포일러 신고 ico_spoiler
             $(document).on("click", ".ico_spoiler", function() {
                var obj = $(this);
                var objLiComment = $("li[id*='liCommentFirst" + obj.attr('data-CommentIdx') + "']");

                var nowSPOILERCNTValue = objLiComment.attr('data-SPOILERCNT');
                var movieIdx = "83155";

                if (obj.attr('data-isMySpoiler') == "True" || obj.attr('data-isMySpoiler') == "true") {   
                    /* 스포일러 신고 취소 */

                    if( confirm("스포일러 신고를 취소하시겠습니까?") ) 
                    {
                        app.movie().setCommentSpoilerDelete(JSON.stringify({ 'commentIdx': parseInt(obj.attr('data-CommentIdx')), 'movieIdx':parseInt(movieIdx) }), callbackSpoilerDelete);
                        function callbackSpoilerDelete(result) {
                            var resultCode = result.resultCode;
                            switch(resultCode)
                            {
                                case "-1":
                                    app.goLogin();
                                    break;
                                case "0":   
                                    alert("시스템 오류 입니다.");
                                    break;
                                case "1":
                                    alert("신고가 취소되었습니다.");           
                                    obj.find('span').html('스포일러 신고');
                                    obj.attr('data-isMySpoiler', 'Fales');   
                            
                                    objLiComment.attr('data-SPOILERCNT', Number(nowSPOILERCNTValue) - 1);
                                    if (  Number(objLiComment.attr('data-SPOILERCNT')) >= 2 ) {
                                        objLiComment.children('a').addClass("hide");
                                        objLiComment.attr("class", "user_spolier");
                                    }else {
                                        objLiComment.attr("class", ""); 
                                
                                    }
                                                                                                  
                                    break;
                                default:
                                    alert(resultCode);
                                    break;
                            }
                        }
                    }
                }else {
                    /* 스포일러 신고 */
                    if( confirm("평점 내용에 스포일러가 포함되어 있습니까?") ) 
                    {
                        app.movie().setCommentSpoilerInsert(JSON.stringify({ 'commentIdx': parseInt(obj.attr('data-CommentIdx')), 'movieIdx':parseInt(movieIdx) }), callbackSpoilerInsert);
                
                        function callbackSpoilerInsert(result) {
                            var resultCode = result.resultCode;
                            switch(resultCode)
                            {
                                case "-1":
                                    app.goLogin();
                                    break;
                                case "0":   
                                    alert("시스템 오류 입니다.");
                                    break;
                                case "1":
                                    alert("신고가 접수되었습니다.\n내용 확인 후 반영하도록 하겠습니다.");                            
                                    obj.find('span').html('스포일러 신고 취소');
                                    obj.attr('data-isMySpoiler', 'True');
                                    objLiComment.attr('data-SPOILERCNT', Number(nowSPOILERCNTValue) + 1);
                                    if (  Number(objLiComment.attr('data-SPOILERCNT')) >= 2 && Number(objLiComment.attr('data-REPORTCNT')) >= 2  ) {
                                        objLiComment.children('a').removeClass("hide");
                                        objLiComment.attr("class", "user_spolierswear") 
                                    }else if (  Number(objLiComment.attr('data-SPOILERCNT')) >= 2 ) {
                                        objLiComment.children('a').removeClass("hide");
                                        objLiComment.attr("class", "user_spolier") 
                                    }else if (  Number(objLiComment.attr('data-REPORTCNT')) >= 2 ) {
                                        objLiComment.children('a').removeClass("hide");
                                        objLiComment.attr("class", "user_swearword") 
                                    }
                                    break;
                                case "-2":
                                    alert("이미 신고 하였습니다.");
                                    break;
                                default:
                                    alert(resultCode);
                                    break;
                            }
                        }
                    }
                }
            
            });


            //2014.12 욕설/비방 신고 ico_swearword
             $(document).on("click", ".ico_swearword", function() {
                var obj = $(this);
                var objLiComment = $("li[id*='liCommentFirst" + obj.attr('data-CommentIdx') + "']");
            
                var nowREPORTCNTValue = objLiComment.attr('data-REPORTCNT');
                var movieIdx = "83155";

                if (obj.attr('data-IsMyREPORT') == "True" || obj.attr('data-IsMyREPORT') == "true") {   
                    /* 욕설/비방 신고 취소 */
                    if( confirm("욕설/비방 신고를 취소하시겠습니까?") ) 
                    {
                        app.movie().setCommentReportDelete(JSON.stringify({ 'commentIdx': parseInt(obj.attr('data-CommentIdx')), 'movieIdx':parseInt(movieIdx) }), callbackReportDelete);
                        function callbackReportDelete(result) {
                            var resultCode = result.resultCode;
                            switch(resultCode)
                            {
                                case "-1":
                                    app.goLogin();
                                    break;
                                case "0":   
                                    alert("시스템 오류 입니다.");
                                    break;
                                case "1":
                                    alert("신고가 취소되었습니다.");           
                                    obj.find('span').html('욕설/비방 신고');
                                    obj.attr('data-IsMyREPORT', 'Fales');   
                            
                                    objLiComment.attr('data-REPORTCNT', Number(nowREPORTCNTValue) - 1);
                                    if (  Number(objLiComment.attr('data-REPORTCNT')) >= 2 ) {
                                        objLiComment.children('a').addClass("hide");
                                        objLiComment.attr("class", "user_swearword");
                                    }else {
                                        objLiComment.attr("class", ""); 
                                
                                    }
                                                                                                  
                                    break;
                                default:
                                    alert(resultCode);
                                    break;
                            }
                        }
                    }
                }else {
                    /* 욕설/비방 신고 */
                    if( confirm("평점 내용에 욕설/비방성 내용이 포함되어 있습니까?") ) 
                    {
                        app.movie().setCommentReportInsert(JSON.stringify({ 'commentIdx': parseInt(obj.attr('data-CommentIdx')), 'movieIdx':parseInt(movieIdx) }), callbackReportInsert);
                
                        function callbackReportInsert(result) {
                            var resultCode = result.resultCode;
                            switch(resultCode)
                            {
                                case "-1":
                                    app.goLogin();
                                    break;
                                case "0":   
                                    alert("시스템 오류 입니다.");
                                    break;
                                case "1":
                                    alert("신고가 접수되었습니다.\n내용 확인 후 반영하도록 하겠습니다.");                            
                                    obj.find('span').html('욕설/비방 신고 취소');
                                    obj.attr('data-IsMyREPORT', 'True');
                                    objLiComment.attr('data-REPORTCNT', Number(nowREPORTCNTValue) + 1);

                                    if (  Number(objLiComment.attr('data-SPOILERCNT')) >= 2 && Number(objLiComment.attr('data-REPORTCNT')) >= 2  ) {
                                        objLiComment.children('a').removeClass("hide");
                                        objLiComment.attr("class", "user_spolierswear") 
                                    }else if (  Number(objLiComment.attr('data-SPOILERCNT')) >= 2 ) {
                                        objLiComment.children('a').removeClass("hide");
                                        objLiComment.attr("class", "user_spolier") 
                                    }else if (  Number(objLiComment.attr('data-REPORTCNT')) >= 2 ) {
                                        objLiComment.children('a').removeClass("hide");
                                        objLiComment.attr("class", "user_swearword") 
                                    }
                                    break;
                                case "-2":
                                    alert("이미 신고 하였습니다.");
                                    break;
                                default:
                                    alert(resultCode);
                                    break;
                            }
                        }
                    }                                           
                }
            
            });                                         

            //2014.12 좋아요버튼 n
            $(document).on("click", ".point_like", function() {
                
                var obj = $(this);
                
                var nowLikeValue = obj.find('#idLikeValue').html();
                var movieIdx = "83155";
                
                if (obj.attr('data-isMyGood') == "True" || obj.attr('data-isMyGood') == "true") {   
                    /*추천 제거 하기 */
                    app.movie().setCommentGoodDelete(JSON.stringify({ 'commentIdx': parseInt(obj.attr('data-CommentIdx')) }), callbackDelete);
                    function callbackDelete(result) {
                        var resultCode = result.resultCode;

                        switch(resultCode)
                        {
                            case "-1":
                                app.goLogin();
                                break;
                            case "0":   
                                alert("시스템 오류 입니다.");
                                break;
                            case "1":
                                alert("추천을 취소하였습니다.");

                                // 1page이면 0 또는 1 값이 온다
                                if (myPointPage == "0" || myPointPage == "1") {                 
                                    $("span[id*='" + obj.attr('id') + "']").find('#idLikeValue').html(Number(nowLikeValue) - 1);
                                    $("span[id*='" + obj.attr('id') + "']").find('img').attr('src', 'http://img.cgv.co.kr/R2014/images/point/ico_point_default.png');
                                    $("span[id*='" + obj.attr('id') + "']").attr('data-isMyGood', 'False');    
                                }else {
                                    obj.find('#idLikeValue').html(Number(nowLikeValue) - 1);
                                    obj.find('img').attr('src', 'http://img.cgv.co.kr/R2014/images/point/ico_point_default.png');
                                    obj.attr('data-isMyGood', 'False');
                                }
                            
                                break;
                            case "-2":
                                alert("추천 하지 않은 글 입니다.");
                                break;
                            default:
                                alert(resultCode);
                                break;
                        }
                    }
                }else {                         
                    /*추천 하기 */
                    app.movie().setCommentGoodInsert(JSON.stringify({ 'commentIdx': parseInt(obj.attr('data-CommentIdx')), 'movieIdx':parseInt(movieIdx) }), callbackInsert);
                    function callbackInsert(result) {
                        var resultCode = result.resultCode;

                        switch(resultCode)
                        {
                            case "-1":
                                app.goLogin();
                                break;
                            case "0":   
                                alert("시스템 오류 입니다.");
                                break;
                            case "1":
                                alert("추천하였습니다.");
                                
                                // 1page이면 0 또는 1 값이 온다
                                if (myPointPage == "0" || myPointPage == "1") {                 
                                    $("span[id*='" + obj.attr('id') + "']").find('#idLikeValue').html(Number(nowLikeValue) + 1);
                                    $("span[id*='" + obj.attr('id') + "']").find('img').attr('src', 'http://img.cgv.co.kr/R2014/images/point/ico_point_like.png');
                                    $("span[id*='" + obj.attr('id') + "']").attr('data-isMyGood', 'True');                                  
                                }else {
                                    obj.find('#idLikeValue').html(Number(nowLikeValue) + 1);
                                    obj.find('img').attr('src', 'http://img.cgv.co.kr/R2014/images/point/ico_point_like.png');
                                    obj.attr('data-isMyGood', 'True');
                                }
                                break;
                            case "-2":
                                alert("이미 추천하였습니다.");
                                break;
                            case "-3":
                                alert("'좋아요'는 영화를 관람하신\n고객님께 제공되는 기능입니다.");
                                break;
                            default:
                                alert(resultCode);
                                break;
                        }
                    }
                }
            });

            //2014.12 삭제버튼 n
            $(document).on("click", ".ico_delete", function() {
                removePointComment($(this));
            });
        
            
            $(document).on("click", ".btn_edit", function() {
                $('.btn_edit').removeClass('on');
                $(this).toggleClass('on');
                $('.btn_notify').removeClass('on');
                return false;
            });

            
            $(document).on("click", ".btn_notify", function() {
                $(this).toggleClass('on');
                $('.btn_edit').removeClass('on');
                return false;
            });

            
            $(document).on("click", ".screen_spoiler", function() {
                $(this).addClass('hide');
                return false;
            });

            
            $(document).click(function() {
                $('.btn_edit').removeClass('on');
                $('.btn_notify').removeClass('on');
            });                
            
            //평점목록 Filtering
            $('#sortTab .sortTab').on('click', function () {
                if(!$(this).hasClass("on")){
                   $('#sortTab').find('.sortTab').removeClass("on");
                    $(this).addClass("on");
                    var orderType = $(this).attr('data-order-type');
                    searchPointList(1, true, 1, orderType);
                } 
                
            });
            
            //모바일버전 가기
            $('.go-mobile').on('click', function() {
                location.replace(updateQueryStringParameter(location.href, "IsMobile", "N"));
                return false;
            });

			// 회원 평점 모아보기 레이어팝업
			$('.writerinfo .writer-name a').on('click', function () {
				return;
                var $std = $(this),
				options = {
					'$target': $std,
					'type': 'center',
					'html': $('#view_memberGrade').html(),
					'mask': 'none'
				};
				app.instWin.add(options);
                return false;
			});
            
			// 평점 작성하기 레이어팝업
			$('.link-gradewrite').on('click', function () {
                var movObj = app.movie();
                
                if (!movObj.GetWatchingMovieCheck) {
                    movObj.GetWatchingMovieCheck = function (data, callback, error) {
                        var url = '/common/ajax/point.aspx/GetWatchingMovieCheck';
                        app.ajax().set({ dataType: 'json', url: url, data: data, contentType: "application/json; charset=utf-8", successHandler: callback });
                    }
                };
               
                movObj.GetWatchingMovieCheck(JSON.stringify({ 'MovieIdx': 83155 }), GetWatchingMovieCheckCallback);
          
				return false;
                
			});
            
            function GetWatchingMovieCheckCallback(result){
                var resultCode = result.resultCode;
                    //0:영화 인덱스 없을때, 1:이미 등록회원, 2:실관람객, 3 : 실관람객이 아닌때
                    switch (resultCode) {
                        case "-1":
                            app.goLogin();
                            break;
                        case "0":
                            //addData(isChecked);
                            app.goLogin();
                            break;
                        case "1":
                            if( confirm("이미 관람평 작성을 완료하셨습니다.\n관람평을 수정하시겠습니까?") ) {
                                if($(".modifyCommentDummy").length == 1) {
                                    $(".modifyCommentDummy").click();
                                }
                            }
                            break;
                        case "2":
                            var $std = $(this);
				            commentOptions = {
					            '$target': $std,
					            'type': 'center',
					            'html': $('#writeGrade').html(),
					            'independence': true,
					            'mask': 'none'
				            };
                            var isLogin = app.config('isLogin');
                            if(isLogin){
                                app.instWin.add(commentOptions);
                                likeOrNot() ;
                                RegPop();
                            }else{
                                app.goLogin();
                            }
                            break;
                        case "3":
                            if( confirm("실관람객에 한하여 관람평 작성이 가능합니다.\n실관람객 등록 페이지로 이동하시겠습니까?") ) {
                                location.href="/user/movielog/watched.aspx";
                            }
                            
                            break;
                        default:
                            alert(resultCode);
                            break;
                    }
            }
            
            function RegPop(){
                $('#textReviewContent').count({
                    useMember: true,
                    callback: function (c) {
                        $('#text_count').text(c);
                    }
                });
                $('#regTitle').html('엽문4-더 파이널');
                
                $('#defaultEggPoint').addClass('on');
                $('#regBtn').on('click', function () {
                    
                    var textReviewContent = $('#textReviewContent').val();

                    textReviewContent = textReviewContent.replace(/^\s+/, "");
                    textReviewContent = textReviewContent.replace(/\s+$/g, "");
                    textReviewContent = textReviewContent.replace(/\n/g, "");
                    textReviewContent = textReviewContent.replace(/\r/g, "");

                    if (textReviewContent == "") {
                        alert("내용을 입력하지 않았습니다.");
                        $('#textReviewContent').focus();
                        return;
                    }

                    // 2018.04.26 박인선 실관람평 10자 미만 등록불가
                    if (textReviewContent.replace(/\s*/g,"").length < 10) {
                        alert("문자를 포함하여 10자 이상(공백 제외) 작성하셔야 등록됩니다.");
                        $('#textReviewContent').focus();
                        return;
                    }

                    // [2015-12-08]평점 개편 이후 실관람객 공개 체크 삭제(무조건 true)
                    var isChecked = true;                                                            

                    app.movie().getViewUser({ 'movieIdx': '83155', 'isOpenView': isChecked }, callback); /*[2015-12-09]실관람객여부 체크 시 진짜 인지를 확인 & 이미 평점을 작성한 적이 있는지 확인. : upt_mwpark*/

                    function callback(result) {
                        var resultCode = result.resultCode;
                        if(resultCode.indexOf("이미 작성하셨습니다") > 0) {
                            resultCode = "해당 영화에 대한 관람평을 이미 작성하셨습니다.\n관람평은 영화당 1회만 작성할 수 있습니다.\n수정을 원하는 경우 관람평수정 기능을 이용해주시기 바랍니다.";
                           
                        }
                        switch (resultCode) {
                            case "-1":
                                alert("로그인이 필요한 서비스 입니다");
                                break;
                            case "0":
                                addData(isChecked);
                                break;
                            case "1":
                                if( confirm("실관람객에 한하여 관람평 작성이 가능합니다.\n실관람객 등록 페이지로 이동하시겠습니까? ") ) {
                                    location.href="/user/movielog/watched.aspx";
                                }
                                break;
                            default:
                                alert(resultCode);
                                break;
                        }
                    }
                   
                    return false;
                });
            }

            
			function likeOrNot() {
				$('.likebox label').on('click', function () {
					var $wrap = $(this).parents('.likebox');
					$wrap.siblings().removeClass('on');
					$wrap.addClass('on');
				});

				$('.likebox input').on('focusin', function() {
					var $wrap = $(this).parents('.likebox');
					$wrap.siblings().removeClass('on');
					$wrap.addClass('on');
				});

				$('#viewpopup').on('click', function () {
					var $std = $(this),
					options = {
						'$target': $std,
						'type': 'center',
						'html': $('#temp_view').html(),
						'independence': true,
						'mask': 'none'
					};
					app.instWin.add(options);
                    
					return false;
				});
                $("#regLayerClose").on("click", function () {                    
                    $('.layer-wrap').remove();
                 });
               
			}

			// 매력포인트 레이어팝업
			function charmPointPop(commentIdx) {
				var $std = $(this),
				options = {
					'$target': $std,
					'type': 'center',
					'html': $('#charmPoint').html(),
                    'independence': true,
					'mask': 'none'
				};
				app.instWin.add(options);
                charmReg(commentIdx)

				return false;
			}

            function charmReg(idx){
                $("#regCharmCloseBtn").on("click", function () {
                    location.reload();
                    $('.layer-wrap').remove();
                });
                $('#charmRegBtn').on('click', function () {
                    var commentIdx = idx;
                    var movieIdx = 83155
                    if(!commentIdx){
                       return; 
                    }
                    
                    var acting = 'N';
                    var story = 'N';
                    var visual = 'N';
                    var ostChk = 'N';
                    var Effect = 'N';
                    
                    if (!$('#acting').is(":checked")) {
                        acting = 'N';
                    } else {
                        acting = 'Y'
                    }


                    if (!$('#story').is(":checked")) {
                        story = 'N';
                    } else {
                        story = 'Y'
                    }
                    
                    if (!$('#visual').is(":checked")) {
                        visual = 'N';
                    } else {
                        visual = 'Y'
                    }


                    if (!$('#ost').is(":checked")) {
                        ostChk = 'N';
                    } else {
                        ostChk = 'Y'
                    }

                    if (!$('#Effect').is(":checked")) {
                        Effect = 'N';
                    } else {
                        Effect = 'Y'
                    }
                    if(acting == 'N' && story == 'N' && visual == 'N' && ostChk == 'N' && Effect == 'N'){
                        alert("영화의 매력포인트를 선택해주세요.");
                        return;
                    }
                    
                    
                    var pointObj = app.movie();
                    if (!pointObj.setCharmEdit) {
                        pointObj.setCharmEdit = function (data, callback, error) {
                            var url = '/common/ajax/point.aspx/setCharmEdit';
                            app.ajax().set({ dataType: 'json', url: url, data: data, contentType: "application/json; charset=utf-8", successHandler: callback });
                        }

                    };
                    pointObj.setCharmEdit(JSON.stringify({ 'commentIdx': commentIdx
                                                            , 'movieIdx' : movieIdx
                                                            , 'acting': acting
                                                            , 'story': story
                                                            , 'visual': visual
                                                            , 'ost': ostChk
                                                            , 'effect': Effect
                                                            }), resultCharmingCallback);
                   
                    //결과
                    function resultCharmingCallback(result) {
                        switch (result.resultCode) {
                            case "1":
                                alert("매력 포인트가 등록되었습니다.");
                                $('.layer-wrap').remove();
                                location.reload();
                                break;
                            case "-1":
                                alert("등록 중 오류가 발생 되었습니다.");
                                break;
                            default:

                                break;
                        }
                    }
                });
            }
            /*[2015-12-09]평점 등록 로직. start : upt_mwpark*/
        //평점 등록
        function addData(isChecked) {
           
            var isCJOneMember = "False";
            if (isCJOneMember == "False") {
                if (confirm("고객님은 CJONE 온라인 통합회원이 아니십니다.\n'실관람객 리뷰' 포인트 적립을 원하시면\nCJ ONE 온라인통합회원으로 전환부탁드립니다.") == true) {
                    window.open("https://www.cjone.com/cjmweb/join.do?coopco_cd=7010&brnd_cd=1000", "_newtab");
                    return false;
                }
            }

            //이벤트가 있을 시 eventIdx 에 Event Idx  값 넣기
            
            var EggPoints = 0;
            if($('#defaultEggPoint').hasClass("on")){
               EggPoints = 2;
            }
            if($('#notEggPoint').hasClass("on")){
               EggPoints = 1;
            }
            
            var defaults = {
                'flag': 'M',
                'idx': '83155',
                'textReviewContent': $('#textReviewContent').val(),
                'open_info': true,     // [2015-12-09] 평점 개편 이후 isCheked 는 항상 true
                'chk_facebook': false,      // 페이스북 연동 기능 삭제
                'chk_twitter': false,       // 트위터 연동 기능 삭제
                'rdo_User': 1,
                'addUserType': '',
                'point': '',  /*[2015-12-08]평점 개편 이후 point 사용 안함 : del_mwpark*/
                'eventIdx': 0,
                'url': escape(location.href),
                'eggPoint' : EggPoints /*[2015-12-08]등록시 eggPoint 파라미터 추가. : add_mwpark*/
            };

            app.movie().setPointReview(JSON.stringify(defaults), resultCallback);   /*[2015-12-09] 평점 등록 프로시저. : upt_mwpark*/
            setMypointAttribute();            
            function resultCallback(result) {
                switch (result.resultCode) {
                    case "-1":
                        app.goLogin();
                        break;
                    case "-2":
                        alert("올바르게 데이타가 입력되지 않았습니다.");
                        break;
                    case "-3":
                        alert(result.resultTitle);
                        break;
                    case "0":
                        if (confirm("관람평이 등록되었습니다.\n관람하신 영화의 매력 포인트를\n선택하시겠습니까?") ){    //확인
                            $('.layer-wrap').remove();
                            charmPointPop(result.resultIndex);
                        }else{   //취소
                            $('.layer-wrap').remove();
                            location.reload();
                        }
                        break;
                    case "01":/*[2015-12-09]평점 개편 이후 지급 포인트 및 관람일로부터 14일 => 7일 로 변경. start : upt_mwpark*/
                        if (confirm("관람일 포함 7일 이내 관람평이 등록되어\nCJ ONE 20P가 지급되었습니다.\n관람하신 영화의 매력 포인트를\n선택해주시면 30P를 추가 지급해드립니다.\n\n포인트는 최초 1회만 지급됩니다.") ){    //확인
                            $('.layer-wrap').remove();
                            charmPointPop(result.resultIndex);
                        }else{   //취소
                            $('.layer-wrap').remove();
                            location.reload();
                        }
                        break;
                    //아트하우스
                    case "02":
                        if (confirm("관람일 포함 7일 이내 관람평이 등록되어\nCJ ONE 30P가 지급되었습니다.\n(아트하우스 Club 회원 추가 10P 적립 포함)\n관람하신 영화의 매력 포인트를\n선택해주시면 30P를 추가 지급해드립니다.\n\n포인트는 최초 1회만 지급됩니다.") ){    //확인
                            $('.layer-wrap').remove();
                            charmPointPop(result.resultIndex);
                        }else{   //취소
                            $('.layer-wrap').remove();
                            location.reload();
                        }                       
                        break;
                    case "3":if (confirm("관람평이 등록되었습니다.\n관람하신 영화의 매력 포인트를\n선택하시겠습니까?")){
                            $('.layer-wrap').remove();
                            charmPointPop(result.resultIndex);
                        }else{   //취소
                            $('.layer-wrap').remove();
                            location.reload();
                        }                        
                        break;
                    case "4":
                        alert("작성글이 등록 되었습니다.\n고객님은 최초 1회 <" + result.resultTitle + "> 실관램객 리뷰 작성이 " + result.resultData  + " 에 이미 참여 하셨습니다.");                       
                        break;
                    case "":
                        alert("등록 중 오류가 발생 되었습니다.");
                        break;
                    default:
                        alert(result.resultCode);
                        break;
                }
            }
        }       
        });
    })(jQuery);
//]]>
</SCRIPT>
 <!--[2015-12-15] 평점 수정 레이어 팝업 템플릿 start : add_mwpark--> 
<SCRIPT id="Script2" type="text/x-jquery-tmpl">
	<div class="layer-contents on-shadow" style="width:710px;" id="my-list-uptLayer">
		<div class="popup-general">
			<div class="popwrap">
				<h1>평점수정</h1>
				<div class="pop-contents write-mygrade">
					<div class="mygrade-cont">
						<div class="movietit"><strong>${MovieTitle}</strong></div>
						<div class="likeornot">
							<div class="writerinfo">
								<div class="box-image">
									<span class="thumb-image">   
										<img src="${UserSmallImage}" alt="사용자 프로필" onerror="errorImage(this, {'type':'profile'})">                                            
										<span class="profile-mask"></span>
									</span>
								</div>
							
								<span class="round red on"><span class="position"><em class="see">실관람객</em></span></span>
								<span class="writer-name">${UserIdNicName}</span>
							</div>
                            {{if EggPoint == 2}}
                            <div class="likebox t1 on">
                            {{else}}
                            <div class="likebox t1">
                            {{/if}}
								<div class="likebox-inner">
									<label for="likeornot1-1">
										<span class="egg-icon good">
                                            {{if EggPoint == 2}}
                                            <input type="radio" name="likeornot1" id="likeornot1-1" value="2" checked/>
                                            {{else}}
                                            <input type="radio" name="likeornot1" id="likeornot1-1" value="2"/>
                                            {{/if}}
										</span>
										<span class="txt">좋았어요~^^</span>
									</label>
								</div>
							</div>
                            {{if EggPoint == 1}}
                            <div class="likebox t2 on">
                            {{else}}
                            <div class="likebox t2">
                            {{/if}}
								<div class="likebox-inner">
									<label for="likeornot1-2">
										<span class="egg-icon">
                                            {{if EggPoint == 1}}
											<input type="radio" name="likeornot1" id="likeornot1-2" value="1" checked/>
                                            {{else}}
                                            <input type="radio" name="likeornot1" id="likeornot1-2" value="1" />
                                            {{/if}}
										</span>
										<span class="txt">흠~좀 별로였어요;;;</span>
									</label>
								</div>
							</div>
						</div>

						<div class="textbox">
							<textarea cols="" rows="" id="my-list-commentTextArea" maxlength="280" required="required" data-title="평점" data-message="작성글이 입력되지 않았습니다.">${CommentText}</textarea>
						</div>

						<div class="footbox">
							<span class="role">
								<a id="viewpopup" title="새창" href="#" target="_blank">운영원칙 <img src="http://img.cgv.co.kr/R2014/images/common/ico/ico-question-mark.png" alt="?"></a>
							</span>
							
							<div class="rbox">
								<span class="count"><strong id="text_count">0</strong>/280(byte)</span>
								<button type="button" class="round red on" id="my-list-uptBtn"><span>작성완료!</span></button>
							</div>
						</div>

					</div>
					
				</div>
				<button type="button" class="btn-close" id="my-list-uptCloseBtn">평점수정 팝업 닫기</button>
			</div>
		</div>
        <input type="hidden" id="my-list-commentIdx" value="${CommentIdx}"/>
        <input type="hidden" id="my-list-movieIdx" value="${MovieIdx}"/>
        <input type="hidden" id="my-list-withviewcnt" value="${withviewcnt}"/>
        <input type="hidden" id="my-list-withviewer" value="${withviewer}"/>
	</div>
</SCRIPT>
 <!--[2015-12-15] 평점 수정 레이어 팝업 템플릿 end : add_mwpark--> <!--[2015-12-15] 매력 포인트 투표 레이어 팝업 start : add_mwpark--> 
<SCRIPT id="Script4" type="text/x-jquery-tmpl">
<div class="layer-contents on-shadow" style="width:577px;" id="my-list-charmLayer">
    <div class="popwrap">
        <h1>매력포인트</h1>
        <div class="pop-contents charm-point">
            
			<div class="charm-cont">
				<div class="headtxt">
					<p>이영화의 매력포인트를 선택해주세요. 중복선택이 가능합니다.</p>
				</div>
				<div class="inp-choose">
                    {{if Effect == "Y"}}
                    <input type="checkbox" id="charm1-5" checked/>
                    {{else}}
                    <input type="checkbox" id="charm1-5" />
                    {{/if}}
					<label for="charm1-5">감독연출</label>
                    {{if Story == "Y"}}
					<input type="checkbox" id="charm1-2" checked/>
                    {{else}}
                    <input type="checkbox" id="charm1-2" />
                    {{/if}}
					<label for="charm1-2">스토리</label>
                    {{if Visual == "Y"}}
					<input type="checkbox" id="charm1-3" checked/>
                    {{else}}
                    <input type="checkbox" id="charm1-3" />
                    {{/if}}
					<label for="charm1-3">영상미</label>
                    {{if Acting == "Y"}}
					<input type="checkbox" id="charm1-1" checked/>
                    {{else}}
                    <input type="checkbox" id="charm1-1"/>
                    {{/if}}
					<label for="charm1-1">배우연기</label>
                    {{if OST == "Y"}}
					<input type="checkbox" id="charm1-4" checked/>
                    {{else}}
                    <input type="checkbox" id="charm1-4" />
                    {{/if}}
					<label for="charm1-4">O.S.T</label>
				</div>
				<div class="set-btn">
					<button class="round red on w70" id="my-list-charmBtn"><span>확인</span></button>
				</div>
			</div>
            <input type="hidden" id="my-list-charmMovieIdx" value="${MovieIdx}" />
        </div>
        <button type="button" class="btn-close" id="my-list-charmCloseBtn">매력포인트 닫기</button>
    </div>
</div>
</SCRIPT>
 
<SCRIPT type="text/javascript">
//<![CDATA[
    (function ($) {
        $(function () {

            var isLogin = app.config('isLogin');

            // 평점 삭제하기 클릭 event

            $('.btn-delete').on('click', function () {
                removePointComment($(this).attr('data'), $(this).attr('midx'));
                return false;
            });
           
            //레이어 팝업 전체 닫기
            function layerAllClose() {
                $("#my-list-uptLayer").remove();
                $("#my-list-charmLayer").remove();
            };

            $(document).on("click", ".modifyCommentDummy", function () {
                var movieIdx = 83155;
                var $std = $(this);
                app.movie().getCommentMy({ 'movieIdx': parseInt(movieIdx) }, getCommentResult);
                
                function getCommentResult(result) {

                    options = {
                        '$target': $std,
                        'type': 'center',
                        'html': $("#Script2").tmpl(result),
                        'independence': true,
                        'mask': 'none'
                    };
                    app.instWin.add(options);
                    updateLayerSetting();
                    return false;
                }
            });

            /*[2015-12-15] 평점 수정 레이어 팝업 start : add_mwpark*/
            $(document).on("click", ".ico_edit", function () {
                
                var movieIdx = 83155;
                var $std = $(this);
                app.movie().getCommentMy({ 'movieIdx': parseInt(movieIdx) }, getCommentResult);
                
                function getCommentResult(result) {
                    options = {
                        '$target': $std,
                        'type': 'center',
                        'html': $("#Script2").tmpl(result),
                        'independence': true,
                        'mask': 'none'
                    };
                    app.instWin.add(options);
                    updateLayerSetting();
                    return false;
                }
            });
            /*[2015-12-15] 평점 수정 레이어 팝업 end : add_mwpark*/

            /*[2015-12-15]레이어 팝업 띄운 후 이벤트 및 각종 설정 처리. start : add_mwpark*/
            function updateLayerSetting() {
                // 가져온 comment text 의 바이트 수 보이기.
                $('#text_count').text(fnTextLength($("#my-list-commentTextArea").val()));

                //글자 입력시 바이트 수 반영. 
                $('#my-list-commentTextArea').count({
                    useMember: true,
                    callback: function (c) {
                        $('#text_count').text(c);
                    }
                });
               
                // 평점 수정 버튼 클릭
                $("#my-list-uptBtn").on("click", function () {

                    var textReviewContent = $('#my-list-commentTextArea').val();

                    textReviewContent = textReviewContent.replace(/^\s+/, "");
                    textReviewContent = textReviewContent.replace(/\s+$/g, "");
                    textReviewContent = textReviewContent.replace(/\n/g, "");
                    textReviewContent = textReviewContent.replace(/\r/g, "");

                    if (textReviewContent == "") {
                        alert("내용을 입력하지 않았습니다.");
                        $('#my-list-commentTextArea').focus();
                        return;
                    }

                    // 2018.04.26 박인선 실관람평 10자 미만 등록불가
                    if (textReviewContent.replace(/\s*/g,"").length < 10) {
                        alert("문자를 포함하여 10자 이상(공백 제외) 작성하셔야 등록됩니다.");
                        $('#my-list-commentTextArea').focus();
                        return;
                    } 

                    if (confirm("작성한 관람평을 수정하시겠습니까?")) {
                        if (isLogin) {
                            editData();
                        } else {
                            app.goLogin();
                        }
                    }
                    
                    return false;
                });
                                
                /*[2015-12-15]평점 수정 start : add_mwpark*/
                function editData() {
                    var eggValue = $("input:radio[name='likeornot1']:checked").val();
                    var textReviewContent = $('#my-list-commentTextArea').val();
                
                    textReviewContent = textReviewContent.replace(/^\s+/, "");
                    textReviewContent = textReviewContent.replace(/\s+$/g, "");
                    textReviewContent = textReviewContent.replace(/\n/g, "");
                    textReviewContent = textReviewContent.replace(/\r/g, "");

                    app.movie().setCommentEdit(JSON.stringify({ 'commentIdx': Number($("#my-list-commentIdx").val())
                                                                                , "commentText": textReviewContent
                                                                                , 'movieIdx': Number($("#my-list-movieIdx").val())
                                                                                , 'isShowView': "Y"
                                                                                , 'withViewCnt': Number($("#my-list-withviewcnt").val())
                                                                                , 'withViewer': $("#my-list-withviewer").val()
                                                                                , 'eggPoint': Number(eggValue)
                    }), resultCallback);

                    function resultCallback(result) {
                        switch (result.resultCode) {
                            case "1":
                                if (confirm("관람평이 수정되었습니다.\n관람하신 영화의 매력 포인트를\n선택하시겠습니까?") == false) {
                                    $("#my-list-uptLayer").remove();
                                    location.reload()
                                    return;
                                } else {
                                    $("#my-list-uptLayer").remove();
                                    GetCharm(result.resultIndex);
                                }
                                break;
                            case "0":
                                alert("등록 중 오류가 발생 되었습니다.");
                                break;
                            case "2":
                                alert("문자를 포함하여 10자 이상(공백 제외) 작성하셔야 등록됩니다.");
                                break;
                            case "-9999":
                                alert("잘못된 접근 입니다.");
                                break;
                            default:
                                alert(result.resultCode);
                                break;
                        }
                    }
                } 

                //좋아요 , 별로에요 클릭시 빨간 테두리 on
                $('.likebox label').on('click', function () {
                    var $wrap = $(this).parents('.likebox');
                    $wrap.siblings().removeClass('on');
                    $wrap.addClass('on');
                });

                //좋아요 , 별로에요 클릭시 빨간 테두리 on
                $('.likebox input').on('focusin', function () {
                    var $wrap = $(this).parents('.likebox');
                    $wrap.siblings().removeClass('on');
                    $wrap.addClass('on');
                });

                //운영원칙 ? 클릭시 팝업.
                $('#viewpopup').on('click', function () {
                    var $std = $(this),
					options = {
					    '$target': $std,
					    'type': 'center',
					    'html': $('#temp_view').html(),
					    'independence': true,
					    'mask': 'none'
					};
                    app.instWin.add(options);
                    return false;
                });

                /*[2015-12-15]레이어팝업 "닫음" 버튼 클릭 처리.: add_mwpark*/
                $("#my-list-uptCloseBtn").on("click", function () {
                    $("#my-list-uptLayer").remove();
                });
            }
            /*[2015-12-15]레이어 팝업 띄운 후 이벤트 및 각종 설정 처리. end : add_mwpark*/

            /*[2015-12-15]입력 글자 바이트 check start : add_mwpark*/
            function fnTextLength(content) {
                var cnt = 0;
                var ch = '';
                for (var i = 0; i < content.length; i++) {
                    ch = content.charAt(i);
                    if (escape(ch).length > 4) {
                        cnt += 2;
                    } else {
                        cnt += 1;
                    }
                }
                return cnt;
            }
            /*[2015-12-15]입력 글자 바이트 end : add_mwpark*/

            /*[2015-12-15] 매력포인트 가져오기 : add_mwpark*/
            function GetCharm(commentIdx) {
                var charmObj = app.movie();
                if (!charmObj.GetCharmPoint) {
                    charmObj.GetCharmPoint = function (data, callback, error) {
                        var url = '/common/ajax/point.aspx/GetCharmPoint';
                        app.ajax().set({ dataType: 'json', url: url, data: data, contentType: "application/json; charset=utf-8", successHandler: callback });
                    }

                };
                charmObj.GetCharmPoint(JSON.stringify({ 'commentIdx': commentIdx }), resultCharmCallback);
                //결과
                function resultCharmCallback(result) {
                    charmPointPop(result);
                };
            };

            /*[2015-12-15]  매력포인트 레이어팝업: add_mwpark*/
            function charmPointPop(result) {
                result.MovieIdx = 83155;
                var $std = $(this),
                options = {
                    '$target': $std,
                    'type': 'center',
                    'html': $('#Script4').tmpl(result),
                    'mask': 'none'
                };
                app.instWin.add(options);
                charmLayerSetting(result.CommentIdx);
                return false;
            }

            /*[2015-12-15]매력투표 레이어 팝업 셋팅. : add_mwpark*/
            function charmLayerSetting(commentIdx) {
                var comIdx = commentIdx;
                //매력투표 등록 버튼.
                $("#my-list-charmBtn").on("click", function () {
                    var charmObj = {};
                    charmObj.acting = "N";
                    charmObj.story = "N";
                    charmObj.visual = "N";
                    charmObj.ost = "N";
                    charmObj.effect = "N";

                    if ($("#charm1-1").prop("checked")) {
                        charmObj.acting = "Y";
                    }
                    if ($("#charm1-2").prop("checked")) {
                        charmObj.story = "Y";
                    }
                    if ($("#charm1-3").prop("checked")) {
                        charmObj.visual = "Y";
                    }
                    if ($("#charm1-4").prop("checked")) {
                        charmObj.ost = "Y";
                    }
                    if ($("#charm1-5").prop("checked")) {
                        charmObj.effect = "Y";
                    }
                    if (charmObj.acting == "N" && charmObj.story == "N" && charmObj.visual == "N" && charmObj.ost == "N" && charmObj.effect == "N") {
                        alert("영화의 매력포인트를 선택해주세요.");
                        return;
                    }
                    charmingEdit(comIdx, charmObj);
                });
                // 매력투표 레이어 팝업 닫기버튼.
                $("#my-list-charmCloseBtn").on("click", function () {
                    location.reload();
                    $("#my-list-charmLayer").remove();
                });
            };

            /*[2015-12-15]매력 투표 수정 : add_mwpark*/
            function charmingEdit(commentIdx, charmObj) {
                var movObj = app.movie();
                if (!movObj.setCharmEdit) {
                    movObj.setCharmEdit = function (data, callback, error) {
                        var url = '/common/ajax/point.aspx/setCharmEdit';
                        app.ajax().set({ dataType: 'json', url: url, data: data, contentType: "application/json; charset=utf-8", successHandler: callback });
                    }

                };
                movObj.setCharmEdit(JSON.stringify({ 'commentIdx': commentIdx
                                                                    , 'movieIdx': Number($("#my-list-charmMovieIdx").val())
                                                                    , 'acting': charmObj.acting
                                                                    , 'story': charmObj.story
                                                                    , 'visual': charmObj.visual
                                                                    , 'ost': charmObj.ost
                                                                    , 'effect': charmObj.effect
                }), resultCharmingCallback);

                //결과
                function resultCharmingCallback(result) {
                    switch (result.resultCode) {
                        case "1":
                            alert("수정이 완료되었습니다.");
                            layerAllClose();
                            location.reload();
                            break;
                        case "-1":
                            alert("등록 중 오류가 발생 되었습니다.");
                            break;
                        default:
                            alert(result.resultCode);
                            break;
                    }
                }
            }
        });
    })(jQuery);

    //2014.12 추가
    //내가 작성한 평점 내용 불러오기 현재 now
    function getCommentEditResult(movieIdx) {
        app.movie().getCommentMy({ 'movieIdx': parseInt(movieIdx) }, callback);

        function callback(result) {
            if (!result || result.length < 1) {
                return false;
            }

            var commentText = result['CommentText'];
            var registDate = result['registDate'];
            var commentIdx = result['CommentIdx'];
            var pointDb = result['Point'];
            var isShowView = result['IsShowView'];

            $("div[id*='" + commentIdx + "']").find('.point-on').attr('style', "width: " + pointDb + "0%;");
            $("em[id*='" + commentIdx + "']").html(pointDb);
            $("p[id*='" + commentIdx + "']").html(commentText);
            
            if (isShowView) {
                $("li[id*='" + commentIdx + "']").find(".vr").attr('style', "display:");
            } else {
                $("li[id*='" + commentIdx + "']").find(".vr").attr('style', "display:none");
            }
        }
    }
    /*회원 평점 모아보기. mwpark_RR2015*/
    function getPopList1(userid, nick) {

        // 2017.07.11 화면 호출 시 POST 방식 호출 변경
        $("#frmPointPopup").attr("target", "ifrm_movie_time_table1");
        $("#frmPointUserId").val(userid);
        $("#frmPointNick").val(escape(nick));
        $("#frmPointPopup").submit();

        $("#ifrm_movie_time_table1").show();
    }
     function resizeTopIframe() {

        $("#ifrm_movie_time_table1").hide();
    }
    function resizeTop(height) {
        document.getElementById("ifrm_movie_time_table1").height = parseInt(height) + 10;
    }
	    /*페이징 처리 추가. mwpark_RR2015 2016-02-17*/
function searchReviewList(page, isGetTotalCount) {
	if(!isGetTotalCount) { isGetTotalCount = false; }

	app.movie().getReviewSearchList({ 'movieIdx': 83155, 'pageIndex': page, 'pageSize': 5, 'isTotalCount' : isGetTotalCount}, setReviewListBuild);
}

function setReviewListBuild(result) {
	if(result == null || result.List == null || result.TotalCount  == null) {
		return;
	}
 
	$("#movie_review_list_container").empty();
	$("#movie_review_template").tmpl(result.List).appendTo("#movie_review_list_container");
 
	if(result.List.length <= result.TotalCount) {
		setPagingNavigation(result.TotalCount, 5, '#paging_review', '#movie_review_list_container', searchReviewList);
	}

	$('.view_review_detail_popup').on('click', function () {
		getReviewDetail($(this));
		return false;
	});

	$('.btn-admit').on('click', function () {
		addMovieReviewCommunityAdmit($(this));
	});
}
</SCRIPT>
             <!--/ Contents End -->		 </DIV><!-- /Contents Area -->	 </DIV><!-- /Contaniner --> 
    
<DIV class="com_pop_wrap">
<DIV class="com_pop_fog"></DIV></DIV><!-- Footer -->	 
<DIV id="footer"><!-- footer_area (s) -->		     
<DIV class="sect-ad" id="BottomWrapper"><IFRAME name="Bottom" width="100%" 
height="240" title="" id="Bottom" src="[엽문4-더%20파이널]_files/sub@Bottom.htm" 
frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></IFRAME></DIV>
<DIV class="foot">
<DIV class="sect-smuse">
<H2>특별관 리스트</H2>
<UL>
  <LI><A class="dx" href="http://www.cgv.co.kr/theaters/special/?regioncode=4D14">4DX</A></LI>
  <LI><A class="imax" href="http://www.cgv.co.kr/theaters/special/?regioncode=07">IMAX</A></LI>
  <LI><A class="screenx" href="http://www.cgv.co.kr/theaters/special/?regioncode=SCX">SCREENX</A></LI>
  <LI><A class="spherex" href="http://www.cgv.co.kr/theaters/special/?regioncode=SPX">SphereX</A></LI>
  <LI><A class="tempur" href="http://www.cgv.co.kr/theaters/special/?regioncode=TEM">Tempur</A></LI>
  <LI><A class="gold" href="http://www.cgv.co.kr/theaters/special/?regioncode=99">GOLDCLASS</A></LI>
  <LI><A class="cine" href="http://www.cgv.co.kr/theaters/special/?regioncode=103">CINE 
  de CHEF</A></LI>
  <LI><A class="cinema" href="http://www.cgv.co.kr/theaters/special/?regioncode=pc">THE 
  PRIVATE CINEMA</A></LI>
  <LI><A class="kids" href="http://www.cgv.co.kr/theaters/special/?regioncode=CK">Cine 
  kids</A></LI>
  <LI><A class="cinenforet" href="http://www.cgv.co.kr/theaters/special/?regioncode=CF">CINE&amp;FORET</A></LI></UL></DIV>
<DIV class="sect-cinfo">
<P class="logo">CJ CGV 로고</P>
<H2>CJ CGV 회사소개 및 정책</H2>
<DIV class="policy">
<UL>
  <LI><A href="http://corp.cgv.co.kr/company/" target="_blank">회사소개</A></LI>
  <LI><A href="http://corp.cgv.co.kr/company/ir/financial/financial_list.aspx" 
  target="_blank">IR</A></LI>
  <LI><A href="http://corp.cgv.co.kr/company/recruit/step/default.aspx" target="_blank">채용정보</A></LI>
  <LI><A href="http://corp.cgv.co.kr/company/advertize/ad_Default.aspx" target="_blank">광고/프로모션문의</A></LI>
  <LI><A href="http://corp.cgv.co.kr/company/advertize/af_default.aspx" target="_blank">제휴문의</A></LI>
  <LI><A href="http://corp.cgv.co.kr/company/advertize/bp_insert.aspx" target="_blank">출점문의</A></LI>
  <LI><A href="http://www.cgv.co.kr/rules/service.aspx">이용약관</A></LI>
  <LI><A href="http://www.cgv.co.kr/rules/organized.aspx">편성기준</A></LI>
  <LI><A class="empha-red" 
  href="http://www.cgv.co.kr/rules/privacy.aspx">개인정보처리방침</A></LI>
  <LI><A href="http://www.cgv.co.kr/rules/disclaimer.aspx">법적고지</A></LI>
  <LI><A href="http://www.cgv.co.kr/rules/emreject.aspx">이메일주소무단수집거부</A></LI>
  <LI><A href="http://www.cgv.co.kr/company/coexist.aspx">상생경영</A></LI>
  <LI><A href="http://www.cgv.co.kr/guide/sitemap.aspx">사이트맵</A></LI></UL></DIV>
<DIV class="share"><A title="새창" class="facebook" href="https://www.facebook.com/CJCGV" 
target="_blank">페이스북</A><A title="새창" class="twitter" href="https://twitter.com/cj_cgv" 
target="_blank">트위터</A><A title="새창" class="instagram" href="https://www.instagram.com/cgv_korea/" 
target="_blank">인스타그램</A></DIV>
<DIV class="address">
<ADDRESS>(04377)서울특별시 용산구 한강대로 23길 55, 아이파크몰 6층(한강로동)</ADDRESS>
<P class="vl"><SPAN>대표이사 : 최병환</SPAN><SPAN>사업자등록번호 : 
104-81-45690</SPAN><SPAN>통신판매업신고번호 : 2017-서울용산-0662</SPAN>					 <A class="btn_goFtc" 
onclick="goFtc()" href="javascript:void(0);"><IMG alt="사업자정보확인" src="[엽문4-더%20파이널]_files/btn_reg.png"><A>					
				</A></P><A>
<P class="vl"><SPAN>호스팅사업자 : CJ올리브네트웍스</SPAN><SPAN>개인정보보호 책임자 : 
정종민</SPAN><SPAN>대표이메일 : cjcgvmaster@cj.net</SPAN><SPAN>CGV고객센터 : 
1544-1122</SPAN>				 </P>
<P class="copyright">© CJ CGV. All Rights Reserved</P></A></DIV><A>
<DIV class="familysite"><LABEL class="hidden" for="familysite">CJ그룹 계열사 
바로가기</LABEL>				 <SELECT id="familysite"><OPTION value="">계열사 바로가기</OPTION>    
                     <OPTGROUP label="CJ그룹"><OPTION 
    value="http://www.cj.net/">CJ주식회사</OPTION> </OPTGROUP><OPTGROUP label="엔터테인먼트 &amp; 미디어"> 
    <OPTION value="http://www.cjenm.com/">CJ ENM (E&amp;M)</OPTION> <OPTION 
    value="http://www.cgv.co.kr/">CJ CGV</OPTION> <OPTION value="http://www.cjpowercast.com/">CJ파워캐스트</OPTION> 
  </OPTGROUP><OPTGROUP label="식품 &amp; 식품서비스"> <OPTION value="https://www.cj.co.kr">CJ제일제당 
    (식품)</OPTION> <OPTION value="http://www.cjfreshway.com/">CJ프레시웨이</OPTION> 
    <OPTION value="http://www.cjfoodville.co.kr/">CJ푸드빌</OPTION> <OPTION value="http://www.md1.co.kr/">CJ엠디원</OPTION> 
  </OPTGROUP><OPTGROUP label="생명공학"> <OPTION value="https://www.cj.co.kr/kr/about/business/bio">CJ제일제당 
    (바이오)</OPTION> </OPTGROUP><OPTGROUP label="신유통"> <OPTION value="http://display.cjmall.com">CJ 
    ENM (오쇼핑)</OPTION> <OPTION 
    value="http://www.cjlogistics.com">CJ대한통운</OPTION> <OPTION value="http://www.cjtelenix.com/">CJ텔레닉스</OPTION> 
    <OPTION 
    value="http://www.oliveyoung.co.kr/store/main/main.do">CJ올리브영</OPTION> 
  </OPTGROUP><OPTGROUP label="인프라"> <OPTION 
    value="http://www.cjenc.co.kr/">CJ대한통운 (건설)</OPTION> <OPTION value="http://www.cjolivenetworks.co.kr/itbusiness/">CJ올리브네트웍스</OPTION> 
  </OPTGROUP>                 				</SELECT>				 <BUTTON title="새창" onclick="goFamilySite()" 
type="button">GO</BUTTON>			 </DIV></A></DIV><A></A></DIV><A><!-- Float Ad -->   
      <!-- footer_area (e) -->         
<DIV class="adFloat" style="display: block;"><IFRAME width="154" height="182" 
id="ad_float1" src="[엽문4-더%20파이널]_files/sub@Popicon.htm" frameborder="0" 
marginwidth="0" marginheight="0" scrolling="no" allowtransparency="true" 
leftmargin="0" topmargin="0"></IFRAME>         </DIV>
<SCRIPT type="text/javascript">            OpenAD();</SCRIPT>
         <!-- //Float Ad -->	 </A></DIV><A><!-- /Footer -->     <!-- Aside Banner :  -->
	 </A>
<DIV class="sect-aside-banner" id="ctl00_sect_person_right" style="margin: 0px; padding: 0px; position: fixed; z-index: 1;"><A>
		 </A>
<DIV class="aside-content-top"><A>			 </A>
<DIV class="aside-content-btm"><A>				 <A 
href="http://www.cgv.co.kr/theaters/"><IMG alt="CGV THEATER" src="[엽문4-더%20파이널]_files/btn_person_theater.gif"></A><A 
href="http://www.cgv.co.kr/arthouse/"><IMG alt="CGV arthouse" src="[엽문4-더%20파이널]_files/btn_person_arthouse.gif"></A><A 
href="http://www.cgv.co.kr/theaters/special/"><IMG alt="CGV SPECIAL" src="[엽문4-더%20파이널]_files/btn_person_special.gif"></A><A 
href="http://phototicket.cgv.co.kr/" target="_blank"><IMG alt="CGV 포토티켓" src="[엽문4-더%20파이널]_files/btn_person_phototicket.gif"></A><A 
class="required-login" href="http://www.cgv.co.kr/user/mycgv/reserve/" data-url="/user/mycgv/reserve/"><IMG 
alt="CGV TICKET INFO" src="[엽문4-더%20파이널]_files/btn_person_ticket.gif"></A><A 
href="http://section.cgv.co.kr/discount/Special/discount/Default.aspx"><IMG alt="CGV DISCOUNT INFO" 
src="[엽문4-더%20파이널]_files/btn_person_discount.gif"></A></DIV></DIV>
<DIV class="btn-top"><A onclick="window.scrollTo(0,0);return false;" href="http://www.cgv.co.kr/movies/detail-view/?midx=83155#"><SPAN>최상단으로 
이동</SPAN></A></DIV></DIV><!-- //Aside Banner -->     
<SCRIPT id="temp_popup_movie_player" type="text/template">
<div class="popwrap">
    <div class="sect-layerplayer">
        <div class="cols-pop-player">
            <h1 class="title" id="movie_player_popup_title"></h1>
            <div class="col-pop-player">
                <div class="warp-pop-player" style="position: relative;">
                    <iframe id="ifrm_movie_player_popup" name="ifrm_movie_player_popup" src="about:blank" style="width:800px;height:450px;" frameborder="0" marginheight="0" marginwidth="0" scrolling="no"></iframe>
					
					<div class="sect-replay" style="display:none" id="pop_player_relation_wrap">
						<button class="btn-replay movie_player_inner_popup" type="button" data-gallery-idx="0" id="btn_movie_replay">다시보기</button>
						<!-- 없어지는 영역 -->
						<div class="wrap-relationmovie" id="pop_player_relation_item_wrap">
							<strong class="title">관련영상</strong>
							<ul id="pop_player_relation_movie">
                                <li></li>
                            </ul>
						</div><!-- .wrap-relationmovie -->
					</div><!-- .sect-replay -->
					
                </div><!-- .warp-pop-player -->
                <div class="descri-trailer">
                    <strong class="title">영상설명</strong>
                    <textarea readonly="readonly" id="movie_player_popup_caption"></textarea>
                </div>
            </div><!-- .col-player -->
            <div class="col-pop-playerinfo">
                <div id="movie_player_popup_movie_info"></div>
                <div class="sect-trailer">
                    <strong class="title">신규영상</strong>
                    <ul>
                        
                    </ul>
                </div>
            </div><!-- .col-playerinfo -->
        </div><!-- .cols-player -->
        <button type="button" class="btn-close">닫기</button>
    </div>
</div>
</SCRIPT>
 
<SCRIPT id="temp_popup_movie_player_movie_info" type="text/x-jquery-tmpl">
<div class="box-image">
    <a href="/movies/detail-view/?midx=${MovieIdx}" title="${Title} 상세보기 새창">
        <span class="thumb-image">
            <img src="${PosterImage.MiddleImage}" alt="${Title} 포스터" />
            <span class="ico-grade ${MovieGrade.StyleClassName}">${MovieGrade.GradeText}</span>
        </span>
    </a>   
</div>
<div class="box-contents">
    <a href="/movies/detail-view/?midx=${MovieIdx}" title="${Title} 상세보기 새창">
        <strong class="title">${Title}</strong>
    </a>
    <span class="txt-info" style="margin-bottom:2px;">
        <em class="genre">${GenreText}</em>
        <span>
            <i>${OpenDate}</i>
            <strong>${OpenText}</strong>
            {{if D_Day > 0}}
                <em class="dday">D-${D_Day}</em>
            {{/if}}
        </span>
    </span>
{{if IsTicketing }}
    <a class="link-reservation" href="/ticket/?MOVIE_CD=${CGVCode}&MOVIE_CD_GROUP=${CGVCode}">예매</a> 
{{/if}}
</div>
</SCRIPT>
 
<SCRIPT id="temp_popup_movie_player_relation_movie_item" type="text/x-jquery-tmpl">
<li>
    <div class="box-image">
        <a href="#" title="${Title} 영상보기" class="movie_player_inner_popup" data-gallery-idx="${GalleryIdx}">
            <span class="thumb-image">
                <img src="${ImageUrl}" 
                alt="${Title}_트레일러" />
                <span class="ico-play">영상보기</span>
            </span>
        </a>
    </div>
</li>
</SCRIPT>
 
<SCRIPT src="[엽문4-더%20파이널]_files/crypto.js" type="text/javascript"></SCRIPT>
 
<SCRIPT type="text/javascript">
    //<![CDATA[
    function closeBanner(){        
        $('#cgv_main_ad').remove();     
        for(var i = 0; i < 2; i++) {
            window.setTimeout(function(){
                $(window).resize()                
            }, 30)
        }
    }
    function showPlayEndEvent() {
        $('#pop_player_relation_wrap').show();
        $('#btn_movie_replay').focus();
    }

    (function ($) {
        $(function () {

            /* side menu move script */
            var isBricks = false;
            $('.sect-aside-banner').asideMenu({'isBricks': isBricks });            
            $('.movie_player_popup').moviePlayer();     //동영상플레이어

            //노원타운
            $('.special5_pop').on('click', function () {
                openNowonTown();
                return false;
            });           
            // 검색 auto validate version.
            $('.btn-go-search').on('click', function () {
                var $frmSearch = $(this).parent().parent('form');
                $frmSearch.submit();
                return false;
            });

            //메인스킵네비
            $('#skipHeader').on('click', function(){
                var $ctn = $('#contents');
                $ctn.attr({
                    tabIndex : -1
                }).focus();				
                return false;
            });

            //현재 URL 해당파라미터 교체
            function updateQueryStringParameter(uri, key, value) {
                var re = new RegExp("([?|&])" + key + "=.*?(&|#|$)", "i");
                if (uri.match(re)) {
                    return uri.replace(re, '$1' + key + "=" + value + '$2');
                } else {
                    var hash =  '';
                    var separator = uri.indexOf('?') !== -1 ? "&" : "?";    
                    if( uri.indexOf('#') !== -1 ){
                        hash = uri.replace(/.*#/, '#');
                        uri = uri.replace(/#.*/, '');
                    }
                    return uri + separator + key + "=" + value + hash;
                }
            }
            //모바일버전 가기
            $('.go-mobile').on('click', function() {
                location.replace(updateQueryStringParameter(location.href, "IsMobile", "N"));
                return false;
            });
        });
    })(jQuery);
	
    function goFamilySite() {
        var famulySiteURL = $(familysite).val();
        if (famulySiteURL != "") {
            var win = window.open(famulySiteURL, 'winFamilySite')
            win.focus();
        }
    }
    function goFtc() {
        var ftcUrl = "http://www.ftc.go.kr/bizCommPop.do?wrkr_no=1048145690";
        window.open(ftcUrl, "bizCommPop", "width=750, height=700, scrollbars=1;");        
    }    
    //]]>
</SCRIPT>
 <!-- 앱다운로드 레이어 팝업 --> 
<SCRIPT type="text/javascript">
    appDownInfoPop();
</SCRIPT>
 
<SCRIPT language="javascript" type="text/javascript">
    //201402 SYH GA추가
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o), m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-47126437-1', 'cgv.co.kr'); //지주사
    ga('create', 'UA-47951671-5', 'cgv.co.kr', { 'name': 'cgvTracker' }); //디마팀
    ga('create', 'UA-47951671-7', 'cgv.co.kr', { 'name': 'rollup' }); //추가

</SCRIPT>
 <!-- Google Tag Manager --> <NOSCRIPT>&lt;iframe 
src="//www.googletagmanager.com/ns.html?id=GTM-NNNFR3"height="0" width="0" 
style="display:none;visibility:hidden"&gt;&lt;/iframe&gt;</NOSCRIPT> 
<SCRIPT>    (function (w, d, s, l, i) {
        w[l] = w[l] || []; w[l].push({ 'gtm.start':
            new Date().getTime(), event: 'gtm.js'
        }); var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
            '//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-NNNFR3');
</SCRIPT>
 <!-- End Google Tag Manager --> </BODY></HTML>
